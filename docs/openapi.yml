openapi: 3.0.1
info:
  title: Purchase Gateway
  version: 1.12.1
  description: Purchase Gateway provides the entry point for performing transactions on Probiller NG
  contact:
    name: Probiller Team
    email: Probiller_Eng_Team@mindgeek.com
servers:
  - url: 'http://localhost:8008'
  - url: 'https://stage-ord-purchase-gateway.probiller.com'
  - url: 'https://stage-ams-purchase-gateway.probiller.com'
  - url: 'https://tests-ord-purchase-gateway.probiller.com'
  - url: 'https://tests-ams-purchase-gateway.probiller.com'
  - url: 'https://pre-prod-ord-purchase-gateway.probiller.com'
  - url: 'https://pre-prod-ams-purchase-gateway.probiller.com'
  - url: 'https://ord-purchase-gateway.probiller.com'
  - url: 'https://purchase-gateway.probiller.com'
  - url: 'https://ams-purchase-gateway.probiller.com'
tags:
  - name: Purchase Gateway
    description: Operations related to performing transactions on Probiller NG
  - name: MGPG Adaptor
    description: Operations related to performing transactions on Probiller NG through MGPG
externalDocs:
  description: Documentation
  url: 'https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+MVP+Definition'
paths:
  /api/v1/purchase/init:
    post:
      tags:
        - Purchase Gateway
      summary: Initialize Purchase
      operationId: initPurchase
      requestBody:
        $ref: '#/components/requestBodies/initPurchaseRequest'
      responses:
        '200':
          $ref: '#/components/responses/initResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - apiKey: []
      parameters:
        - schema:
            type: boolean
          in: header
          name: X-Skip-Void
          example: true
          description: 'Only to be used by test transactions, will perform a void/refund.'
        - schema:
            type: string
          in: header
          name: X-Force-Cascade
          description: 'Forcing of the the cascade. Valid value is : test-netbilling'
        - schema:
            type: string
          in: header
          name: X-Test
          description: To mark purchase as a test one
  /mgpg/api/v1/purchase/init:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: mgpgInitPurchase
      requestBody:
        $ref: '#/components/requestBodies/mgpgInitPurchaseRequest'
      responses:
        '200':
          $ref: '#/components/responses/mgpgInitResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - apiKey: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
      description: Initialize Purchase Processing by providing contextual data. This particular endpoint forwards the call to MGPG and translates the response back.
  /mgpg/api/v1/rebill-update/init:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: mgpgInitRebillUpdate
      requestBody:
        $ref: '#/components/requestBodies/mgpgInitRebillUpdateRequest'
      responses:
        '200':
          $ref: '#/components/responses/mgpgInitRebillUpdateResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - apiKey: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
      description: Initialize Rebill Update Processing by providing contextual data. This particular endpoint forwards the call to MGPG and translates the response back.
  /api/v1/purchase/process:
    post:
      tags:
        - Purchase Gateway
      summary: Process Purchase
      operationId: processPurchase
      requestBody:
        $ref: '#/components/requestBodies/processPurchaseRequest'
      responses:
        '200':
          $ref: '#/components/responses/processResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
  /mgpg/api/v1/purchase/process:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: mgpgProcessPurchase
      requestBody:
        $ref: '#/components/requestBodies/mgpgProcessPurchaseRequest'
      responses:
        '200':
          $ref: '#/components/responses/mgpgProcessResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
  /mgpg/api/v1/rebill-update/process:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: mgpgProcessRebillUpdate
      requestBody:
        $ref: '#/components/requestBodies/mgpgProcessRebillUpdateRequest'
      responses:
        '200':
          $ref: '#/components/responses/mgpgProcessRebillUpdateResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
  /api/v1/purchase/validate-captcha/init:
    post:
      tags:
        - Purchase Gateway
      summary: Mark captcha validated for initialize purchase
      operationId: initPurchaseValidateCaptcha
      requestBody:
        $ref: '#/components/requestBodies/validateCaptcha'
      responses:
        '200':
          $ref: '#/components/responses/captchaValidated'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
        - apiKey: []
  /mgpg/api/v1/refund:
    post:
      summary: ''
      operationId: post-mgpg-api-v1-refund
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./models/mgpgRefundResponse.v1.yaml
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ./models/nonExistingError.v1.yaml
        '405':
          description: Method Not Allowed
        '500':
          description: Internal Server Error
          $ref: '#/components/responses/internalError'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                businessGroupId:
                  type: string
                  minLength: 1
                siteId:
                  type: string
                  minLength: 1
                memberId:
                  type: string
                  minLength: 1
                itemId:
                  type: string
                  minLength: 1
                amount:
                  type: number
                  format: double
                reason:
                  type: string
                  minLength: 5
              required:
                - businessGroupId
                - siteId
                - memberId
                - itemId
                - reason
            examples:
              example-1:
                value:
                  businessGroupId: 07402fb6-f8d6-11e8-8eb2-f2801f1b9fd1
                  siteId: 86090ce1-02d3-451e-895f-9ec29de4868e
                  memberId: 86090ce1-02d3-451e-895f-9ec29de4868e
                  itemId: c20a2e7d-ea15-4570-8a69-d6288a5cb4e6
                  amount: 20.2
                  reason: The reasone of refund
      tags:
        - MGPG Adaptor
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Unique Id to be used in logging.

  /mgpg/api/v1/cancel-rebill:
    post:
      summary: ''
      operationId: post-mgpg-api-v1-cancel-rebill
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./models/mgpgCancelRebillResponse.v1.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  error:
                    type: string
                    minLength: 1
                  code:
                    type: number
                  traceId:
                    type: string
                    minLength: 1
                  correlationId:
                    type: string
                    minLength: 1
                  sessionId:
                    type: string
                    minLength: 1
                required:
                  - error
                  - code
                  - traceId
                  - correlationId
                  - sessionId
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ./models/nonExistingError.v1.yaml
        '405':
          description: Method Not Allowed
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: ./models/alreadyCanceledError.v1.yaml
        '500':
          description: Internal Server Error
          $ref: '#/components/responses/internalError'
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                businessGroupId:
                  type: string
                  minLength: 1
                siteId:
                  type: string
                  minLength: 1
                memberId:
                  type: string
                  minLength: 1
                itemId:
                  type: string
                  minLength: 1
                usingMemberProfile:
                  type: boolean
                cancellationReason:
                  type: string
                  "enum": [
                      "Cancelled Online",
                      "Cancelled through Customer Care",
                      "Cancelled for Retention",
                      "Cancelled by Fraud Analyst",
                      "Cancelled due to TC40/SAFE Alert",
                      "Cancelled due to Ethoca Alert",
                      "Cancelled due to Verifi Alert",
                      "Cancelled due to VMPI",
                      "Cancelled due to excessive declines",
                      "Cancelled due to hard decline",
                      "Cancelled due to chargeback",
                      "Cancelled by biller"
                  ]
              required:
                - businessGroupId
                - siteId
                - memberId
                - itemId
                - usingMemberProfile
                - cancellationReason
            examples:
              example-1:
                value:
                  businessGroupId: 07402fb6-f8d6-11e8-8eb2-f2801f1b9fd1
                  siteId: 07402fb6-f8d6-11e8-8eb2-f2801f1b9fd1
                  memberId: 86090ce1-02d3-451e-895f-9ec29de4868e
                  itemId: c20a2e7d-ea15-4570-8a69-d6288a5cb4e6
                  usingMemberProfile: true
                  cancellationReason:  "Cancelled Online"
      tags:
        - MGPG Adaptor
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Unique Id to be used in logging.
  /mgpg/api/v1/disable-access:
    post:
      summary: ''
      operationId: post-mgpg-api-v1-disable-access
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: ./models/mgpgDisableResponse.v1.yaml
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                description: ''
                type: object
                properties:
                  error:
                    type: string
                    minLength: 1
                  code:
                    type: number
                  traceId:
                    type: string
                    minLength: 1
                  correlationId:
                    type: string
                    minLength: 1
                  sessionId:
                    type: string
                    minLength: 1
                required:
                  - error
                  - code
                  - traceId
                  - correlationId
                  - sessionId
        '404':
          description: Not Found
          content:
            application/json:
              schema:
                $ref: ./models/nonExistingError.v1.yaml
        '405':
          description: Method Not Allowed
        '409':
          description: Conflict
          content:
            application/json:
              schema:
                $ref: ./models/alreadyCanceledError.v1.yaml
        '500':
          description: Internal Server Error
      description: Disable the recurring information at the biller side for a given bundle and stop access immediately
      requestBody:
        content:
          application/json:
            schema:
              description: ''
              type: object
              properties:
                businessGroupId:
                  type: string
                  minLength: 1
                siteId:
                  type: string
                  minLength: 1
                memberId:
                  type: string
                  minLength: 1
                itemId:
                  type: string
                  minLength: 1
                usingMemberProfile:
                  type: boolean
              required:
                - businessGroupId
                - siteId
                - memberId
                - itemId
                - usingMemberProfile
            examples:
              example-1:
                value:
                  businessGroupId: 07402fb6-f8d6-11e8-8eb2-f2801f1b9ff1
                  siteId: 07402fb6-f8d6-11e8-8eb2-f2801f1b9ff1
                  memberId: 86090ce1-02d3-451e-895f-9ec29de486ee
                  itemId: c20a2e7d-ea15-4570-8a69-d6288a5cb4e1
                  usingMemberProfile: true
      tags:
        - MGPG Adaptor
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Unique Id to be used in logging.

  /api/v1/purchase/validate-captcha/process:
    post:
      tags:
        - Purchase Gateway
      summary: Mark captcha validated for process purchase
      operationId: processPurchaseValidateCaptcha
      requestBody:
        $ref: '#/components/requestBodies/validateCaptcha'
      responses:
        '200':
          $ref: '#/components/responses/captchaValidated'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - apiKey: []
        - bearerAuth: []
  '/api/v1/integration-events/retrieve/{siteId}/eventDate/{eventDate}':
    get:
      tags:
        - Purchase Gateway
      summary: Retrieve Integration Events
      operationId: retrieveIntegrationEvents
      parameters:
        - in: path
          name: siteId
          required: true
          schema:
            type: string
          example: 8e34c94e-135f-4acb-9141-58b3a6e56c74
          description: Site Id to be used for validation
        - in: path
          name: eventDate
          required: true
          schema:
            type: string
          example: '2019-02-13 11:12:18'
          description: date from where to retrieve integration events
      responses:
        '200':
          $ref: '#/components/responses/retrieveIntegrationEventsResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - apiKey: []
  '/api/v1/billerTransaction/search/session/{sessionId}':
    get:
      tags:
        - Purchase Gateway
      summary: Retrieves a transaction by the coresponding item id
      operationId: retrieveTransaction
      description: Retrieves a transaction by the coresponding item id
      parameters:
        - name: sessionId
          in: path
          required: true
          description: Session id
          schema:
            type: string
            format: uuid
          example: 8e34c94e-135f-4acb-9141-58b3a6e56c74
      requestBody:
        $ref: '#/components/requestBodies/retrieveTransaction'
      responses:
        '200':
          $ref: '#/components/responses/retrieveTransactionResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - error
                properties:
                  code:
                    description: Error code
                    type: integer
                    example: 1300
                  error:
                    description: Error message
                    type: string
                    example: The supplied UUID is not valid
        '404':
          description: Item not found
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - error
                properties:
                  code:
                    description: Error code
                    type: integer
                    example: 1200
                  error:
                    description: Error message
                    type: string
                    example: Item not found
        '500':
          description: Error Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - code
                properties:
                  error:
                    description: Error message
                    type: string
                    example: Error occurred during execution of operation
                  code:
                    description: Error code
                    type: integer
                    example: 12014
  '/api/v1/purchase/threed/authenticate/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: JWT containing crypted sessionId
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJN
    get:
      tags:
        - Purchase Gateway
      summary: Redirect to authenticate with the Bank
      description: Redirect to authenticate with the Bank
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Redirect-to-bank-auth'' example'
              examples:
                Redirect-to-bank-auth:
                  value: |-
                    <form name="toBank" action="<authenticateUrl>" method="POST">
                    <input type="hidden" name="PaReq" value="<PaReq>">
                    <input type="hidden" name="TermUrl" value="<Return-to-NG-URL>">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toBank.submit(); }//--></SCRIPT>
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 5555,
                     "error": "The session is not a valid uuid" 
                    } 
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="error" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> e.g. json: 
                    {
                     "code": 5566,
                     "error": "The session with id %s was already processed",
                     "nextAction": {
                     "type": "restartProcess",
                    } 
                    }
        '401':
          description: Unauthorized
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 1010,
                     "error": "The session does not exist" 
                    } 
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: <html> Probiller has encountered an internal server error. </html>
  '/mgpg/api/v1/purchase/threed/authenticate/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: 'JWT containing encrypted: sessionId, authenticateUrl, paReq, termUrl'
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJN
    get:
      tags:
        - MGPG Adaptor
      summary: Redirect to authenticate with the Bank
      description: Redirect to authenticate with the Bank
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Redirect-to-bank-auth'' example'
              examples:
                Redirect-to-bank-auth:
                  value: |-
                    <form name="toBank" action="<authenticateUrl>" method="POST">
                    <input type="hidden" name="PaReq" value="<PaReq>">
                    <input type="hidden" name="TermUrl" value="<Return-to-NG-URL>">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toBank.submit(); }//--></SCRIPT>
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format):
                    {
                     "code": 5555,
                     "error": "The session is not a valid uuid"
                    }
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="error" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> e.g. json:
                    {
                     "code": 5566,
                     "error": "The session with id %s was already processed",
                     "nextAction": {
                     "type": "restartProcess",
                    }
                    }
        '401':
          description: Unauthorized
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format):
                    {
                     "code": 1010,
                     "error": "The session does not exist"
                    }
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: <html> Probiller has encountered an internal server error. </html>
  '/api/v1/purchase/threed/complete/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: JWT containing crypted sessionId
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJN
    post:
      tags:
        - Purchase Gateway
      summary: Complete purchase flow for 3DS
      description: Complete purchase flow for 3DS
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pares:
                  type: string
            examples:
              Request-example:
                value:
                  pares: SimulatedPARES100016FEC22B711
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
              examples:
                Purchase-with-success-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<clientUrl>" method="POST">
                    <input type="hidden" name="success" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>
                     
                     e.g. json:
                    {
                        "success": true,
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190",
                        "memberId": "071a7be9-ab78-4962-a7e8-b3a9c917d60b",
                        "bundleId": "5fd44440-2956-11e9-b210-d663bd873d93",
                        "addonId": "670af402-2956-11e9-b210-d663bd873d93",
                        "itemId": "76950d32-49be-4c9c-b72a-2334834dcc2c",
                        "subscriptionId": "2419c0ee-ccbb-46c0-99a0-3fb14279d99b",
                        "transactionId": "2586c0ee-ccbb-46c0-99a0-3fb142794aa2",
                        "billerName": "rocketgate",
                        "sessionId": "7cb0496c-23d8-47a8-b8b4-49eecb719ab0", 
                        "crossSells": [
                            {
                                "success": true,
                                "bundleId": "4475820e-2956-11e9-b210-d663bd873d93",
                                "addonId": "4e1b0d7e-2956-11e9-b210-d663bd873d93",
                                "subscriptionId": "11756999-b466-4c86-9d8f-f35a6ce92970",
                                "transactionId": "2458c0ee-ccbb-46c0-99a0-3fb142794aa2",
                                "itemId": "82ba2d69-014a-4abc-966e-9f387c3465a2"
                            }
                        ],
                        "nextAction": {
                           "type": "finishProcess",
                        }
                         "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..."
                    }
                Purchase-failed-we-have-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<clientUrl>" method="POST"> 
                    <input type="hidden" name="success" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g json: 
                    { 
                        "success": false, 
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190", 
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc", 
                        "sessionId": "7cb0496c-23d8-47a8-b8b4-49eecb719ab0",
                        "nextAction": { 
                           "type": "renderGateway", 
                        } 
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..." 
                    }
                Purchase-failed-no-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<clientUrl>" method="POST"> 
                    <input type="hidden" name="success" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g json: 
                    { 
                        "success": false, 
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190", 
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc", 
                        "sessionId": "7cb0496c-23d8-47a8-b8b4-49eecb719ab0",
                        "nextAction": { 
                           "type": "finishProcess", 
                        } 
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..." 
                    }
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html> 
                    Probiller has encountered an error. See details: (json format): 
                    { 
                        "code": 5555, 
                        "error": "The session is not a valid uuid" 
                    } 
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST"> 
                    <input type="hidden" name="error" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g. json: 
                    { 
                        "code": 5566, 
                        "error": "The session with id %s was already processed", 
                        "nextAction": { 
                           "type": "restartProcess", 
                        } 
                    }
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 1010,
                     "error": "The session does not exist" 
                    } 
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: <html> Probiller has encountered an internal server error. </html>
              examples:
                example-1:
                  value: <html> Probiller has encountered an internal server error. </html>
  '/mgpg/api/v1/purchase/threed/complete/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: JWT containing crypted sessionId
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJN
    post:
      tags:
        - MGPG Adaptor
      summary: Complete purchase flow for 3DS
      description: Complete purchase flow for 3DS
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                pares:
                  type: string
            examples:
              Request-example:
                value:
                  pares: SimulatedPARES100016FEC22B711
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
              examples:
                Purchase-with-success-redirect-to-client:
                  value: |-
                    <html>

                    <head></head>

                    <body>
                    <form name="toClient" action="<clientUrl>" method="POST">
                    <input type="hidden" name="success" value='json'>
                    </form>
                    <script type="text/javascript">
                    window.onload = function () {
                    document.forms["toClient"].submit();
                    }
                    </script>
                    </body>

                    </html>

                    e.g json:
                    {
                      "mgpgSessionId": "b57d786698f8e640a50e67053e70775e",
                      "correlationId": "f9903d90-ae5f-48de-8763-20d7b90ec024",
                      "sessionId": "fe7daf96-dac9-4ada-84ac-1da47c5c1992",
                      "success": true,
                      "purchaseId": "7ffd5ab6-78c5-4c77-aab6-a7a6a9a08978",
                      "memberId": "c65f5a59-8b7f-4716-bc9f-9a613149a56f",
                      "nextAction": {
                        "type": "finishProcess",
                        "resolution": "server"
                      },
                      "billerName": "unknown",
                      "transactionId": "1ed43a13-9d86-46ca-9ccc-ea76714fccef",
                      "bundleId": "000da30e-6a3e-4710-9f24-699ee1737fd4",
                      "addonId": "bdfcd786-2927-4fb4-990e-c90452579227",
                      "itemId": "1ed43a13-9d86-46ca-9ccc-ea76714fccef",
                      "subscriptionId": "63211dd0-724a-443e-8afd-de01f84fe4de",
                      "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE2MTk1Mjk2MzEsIm5iZiI6MTYxOTUyOTYzMSwiZXhwIjoxNjE5NTMxNDMxLCJoYXNoIjoiYTQzN2FkZWQ4MTMyOTk5YzIxYjQwNmNlZDljNWFhOTc4ZmJkN2U2Y2MxNDFiNzI3ZmVmYWU0N2U5ZDc3OWNlMGMzZmQ4ZmQzYjQ4Yzc4ZTRlZDM0NDFhOWMyNDYxNTE0YmViMzBmOTk3NTI1YmNhMmUyYmFmNDhkZjQzZWY5MTEifQ.XpSXFSbdUPvv11zkmWt47bIokwRnc1YfQVBN29CxPTZuRKQ_2RxGfKzSmE7IADuR4unC5RgF3uGoWCt4YBv8DQ"
                    }
                Purchase-failed-we-have-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<clientUrl>" method="POST">
                    <input type="hidden" name="success" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>

                     e.g json:
                    {
                        "success": false,
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190",
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc",
                        "sessionId": "7cb0496c-23d8-47a8-b8b4-49eecb719ab0",
                        "nextAction": {
                           "type": "renderGateway",
                        }
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..."
                    }
                Purchase-failed-no-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<clientUrl>" method="POST">
                    <input type="hidden" name="success" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>

                     e.g json:
                    {
                        "success": false,
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190",
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc",
                        "sessionId": "7cb0496c-23d8-47a8-b8b4-49eecb719ab0",
                        "nextAction": {
                           "type": "finishProcess",
                        }
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..."
                    }
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html>
                    Probiller has encountered an error. See details: (json format):
                    {
                        "code": 5555,
                        "error": "The session is not a valid uuid"
                    }
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="error" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>

                     e.g. json:
                    {
                        "code": 5566,
                        "error": "The session with id %s was already processed",
                        "nextAction": {
                           "type": "restartProcess",
                        }
                    }
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format):
                    {
                     "code": 1010,
                     "error": "The session does not exist"
                    }
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: <html> Probiller has encountered an internal server error. </html>
              examples:
                example-1:
                  value: <html> Probiller has encountered an internal server error. </html>
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
  /api/v1/threed/lookup:
    post:
      tags:
        - Purchase Gateway
      summary: Threeds Lookup
      operationId: threedLookup
      requestBody:
        $ref: '#/components/requestBodies/lookupRequest'
      responses:
        '200':
          $ref: '#/components/responses/threedLookupResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
  '/api/v1/purchase/thirdParty/redirect/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: JWT containing crypted sessionId
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODgwNzI3NzcsIm5iZiI6MTU4ODA3Mjc3NywiZXhwIjoxNTg4MDc0NTc3LCJzZXNzaW9uSWQiOiJ4a2RwOG5jRkI0TEEwdHVITjhyd01cLys4R2JTVTJac0dVOG1EbEpFaXdjZHhYNjJIN1l6ZlZZOXFIXC95N1VoZUZqcUFPREFrMTl5ZTIyYWdIaWRRUGo2c043UlRxUldISmFXU2NUUT09In0.h19_-NOsIt-V6tf_Kjux6mSxhM9KCRlw8tBLBc7b80fCLlOvQjQzF1pnoGMD1YJKvtQ8rBzBBzyb3Y0gp6tnIg
    get:
      tags:
        - Purchase Gateway
      summary: Redirect to third party Biller site
      description: Redirect to third party Biller site
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Redirect-to-third-party-biller'' example'
              examples:
                Redirect-to-third-party-biller:
                  value: |-
                    <form name="toBiller" action="<billerRedirectUrl>" method="POST">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toBiller.submit(); }//--></SCRIPT>
                    </form>
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 5555,
                     "error": "The session is not a valid uuid" 
                    } 
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="error" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>
                    e.g. json: 
                    {
                     "code": 5566,
                     "error": "The session with id %s was already processed",
                     "nextAction": {
                       "type": "restartProcess",
                     } 
                    }
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 1010,
                     "error": "The session does not exist" 
                    } 
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: |-
                  <html>
                  Probiller has encountered an internal server error.
                  </html>
  '/api/v1/purchase/thirdParty/return/{jwt}':
    parameters:
      - name: jwt
        in: path
        required: true
        description: JWT containing crypted sessionId
        schema:
          type: string
          format: jwt
        example: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJN
    get:
      summary: Return user from third party biller
      operationId: return-3rdparty-biller
      parameters:
        - schema:
            type: object
          examples:
            Epoch-purchase-query-response:
              value: |-
                {
                 "email":"test@email.com",
                 "name":"Mister Axe",
                 "postalcode":"123456",
                 "zip":"123456",
                 "prepaid":"N",
                 "country":"CA",
                 "ipaddress":"111.111.11.111", 
                 "submit_count":"1",
                 "trans_amount":"14.95", 
                 "trans_amount_usd":"15.89",
                 "trans_currency":"EUR",
                 "transaction_id":"1200230927",
                 "amount":"15.89", 
                 "currency":"EUR",
                 "localamount":"14.95",
                 "payment_type":"CC",
                 "payment_subtype":"VS", 
                 "last4":"9165",
                 "order_id":"2342554806",
                 "member_id":"2342554806",
                 "pi_code":"InvoiceProduct76897",
                 "session_id":"4bc28371-1839-44fe-85bb-cd4e6af0a726",
                 "ngSessionId":"12345",
                 "ngTransactionId":"998",
                 "ans":"Y744660UU |2342554806",
                 "epoch_digest":"8ae7d3e38a14cb34b9039b6c2665d329",
                 "event_datetime":"2020-04-29T08:39:43.179Z" 
                }
          in: query
          style: form
          explode: true
          name: transactionParams
          description: Transaction params received from biller
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
              examples:
                Purchase-with-success-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="success" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>
                     
                     e.g. json:
                    {
                        "success": true,
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190",
                        "memberId": "071a7be9-ab78-4962-a7e8-b3a9c917d60b",
                        "bundleId": "5fd44440-2956-11e9-b210-d663bd873d93",
                        "addonId": "670af402-2956-11e9-b210-d663bd873d93",
                        "itemId": "76950d32-49be-4c9c-b72a-2334834dcc2c",
                        "subscriptionId": "2419c0ee-ccbb-46c0-99a0-3fb14279d99b",
                        "transactionId": "2513c0ee-ccbb-46c0-99a0-3fb142794aa2",
                        "billerName": "rocketgate",
                        "nextAction": {
                           "type": "finishProcess",
                        }
                         "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..."
                    }
                Purchase-failed-we-have-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST"> 
                    <input type="hidden" name="success" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g json: 
                    { 
                        "success": false, 
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190", 
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc", 
                        "nextAction": { 
                           "type": "renderGateway", 
                        } 
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..." 
                    }
                Purchase-failed-no-retries-left-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST"> 
                    <input type="hidden" name="success" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g json: 
                    { 
                        "success": false, 
                        "purchaseId": "b5af6be1-a84e-4f8a-ac61-608b276bd190", 
                        "memberId": "ebbbd30f-4408-4a5e-a900-2652a8d4c1cc", 
                        "nextAction": { 
                           "type": "finishProcess", 
                        } 
                        "digest": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxM..." 
                    }
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Invalid-session:
                  value: |-
                    <html> 
                    Probiller has encountered an error. See details: (json format): 
                    { 
                        "code": 5555, 
                        "error": "The session is not a valid uuid" 
                    } 
                    </html>
                Already-processed:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST"> 
                    <input type="hidden" name="error" value="json"> 
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT> 
                     
                     e.g. json: 
                    { 
                        "code": 5566, 
                        "error": "The session with id %s was already processed", 
                        "nextAction": { 
                           "type": "restartProcess", 
                        } 
                    }
        '404':
          description: Session not found
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and js code, see ''Not-found'' example'
              examples:
                Not-found:
                  value: |-
                    <html> Probiller has encountered an error. See details: (json format): 
                    {
                     "code": 1010,
                     "error": "The session does not exist" 
                    } 
                    </html>
        '500':
          description: Server Error
          content:
            text/html:
              schema:
                type: string
                example: <html> Probiller has encountered an internal server error. </html>
      description: Return user from third party biller
      tags:
        - Purchase Gateway
  '/api/v1/purchase/thirdParty/postback/{sessionId}':
    parameters:
      - name: sessionId
        in: path
        required: true
        description: Purchase gateway sessionId
        schema:
          type: string
          format: uuid
        example: 32542e2a-373e-4812-ae7d-f15d46579a8c
    post:
      tags:
        - Purchase Gateway
      summary: Postback from third party biller
      description: Answer received from a third party biller after they have finished all the operations on their side
      requestBody:
        $ref: '#/components/requestBodies/postbackFromThirdPartyBiller'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  sessionId:
                    description: Purchase gateway sessionId.
                    type: string
                    example: 32542e2a-373e-4812-ae7d-f15d46579a8c
                  result:
                    description: The result of postback.
                    type: string
                    example: success
              examples:
                example-1:
                  value:
                    sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                    result: success
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    description: Error code.
                    type: integer
                  error:
                    description: Error message.
                    type: string
              examples:
                Bad-Request:
                  value:
                    code: 6100
                    error: no body/header received
                Invalid-session-id:
                  value:
                    code: 5555
                    error: Invalid session id
        '404':
          description: Not found
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    description: Error code.
                    type: integer
                  error:
                    description: Error message.
                    type: string
              examples:
                Session-not-found:
                  value:
                    code: 1010
                    error: The session does not exist
        '500':
          description: Server Error
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    description: Error code.
                    type: integer
                    example: 500
                  error:
                    description: Error message.
                    type: string
                    example: Probiller has encountered an internal server error.
  /api/v1/healthCheck/:
    get:
      tags:
        - Health Check
      summary: Retrieve the status of the Purchase Gateway
      description: Retrieve the status of the Purchase Gateway
      operationId: retrieveHealthCheck
      responses:
        '200':
          $ref: '#/components/responses/healthCheckResponse'
        '500':
          $ref: '#/components/responses/errorResponse'
  '/api/v1/failedBillers/session/{sessionId}':
    get:
      tags:
        - Purchase Gateway
      summary: Retrieve failed billers for a session id
      description: Retrieve the failed billers that where attepted for the provided purchase session id
      operationId: retrieveFailedBillers
      parameters:
        - name: sessionId
          in: path
          required: true
          description: Session id
          schema:
            type: string
            format: uuid
          example: 8e34c94e-135f-4acb-9141-58b3a6e56c74
      responses:
        '200':
          $ref: '#/components/responses/failedBillersResponse'
        '400':
          description: Bad request
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - error
                properties:
                  code:
                    description: Error code
                    type: integer
                    example: 1300
                  error:
                    description: Error message
                    type: string
                    example: The supplied UUID is not valid
        '404':
          description: Session not found
          content:
            application/json:
              schema:
                type: object
                required:
                  - code
                  - error
                properties:
                  code:
                    description: Error code
                    type: integer
                    example: 1200
                  error:
                    description: Error message
                    type: string
                    example: Session not found
        '500':
          description: Error Response
          content:
            application/json:
              schema:
                type: object
                required:
                  - error
                  - code
                properties:
                  error:
                    description: Error message
                    type: string
                    example: Error occurred during execution of operation
                  code:
                    description: Error code
                    type: integer
                    example: 12014
  /mgpg/api/v1/threed/lookup:
    post:
      tags:
        - MGPG Adaptor
      summary: Threeds Lookup
      operationId: threedLookup
      requestBody:
        $ref: '#/components/requestBodies/lookupRequest'
      responses:
        '200':
          $ref: '#/components/responses/threedLookupResponse'
        '400':
          $ref: '#/components/responses/errorResponse'
        '401':
          description: Unauthorized
        '405':
          description: Request method not allowed
        '500':
          $ref: '#/components/responses/internalError'
      security:
        - bearerAuth: []
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
  '/mgpg/api/v1/postback/{jwt}':
    parameters:
      - schema:
          type: string
        name: 'jwt containing encrypted keys {clientUrl, sessionId, publicKeyId, correlationId}'
        in: path
        required: true
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: post-mgpg-api-v1-postback-clientPostbackUrl
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    mgpgSessionId: ''
                    correlationId: '2e27b6c9-3d75-467a-ad62-a5d95536bfc6",'
                    sessionId: '44e05917-f405-4091-aeea-5909b3836bf6",'
                    success: 'true,'
                    purchaseId: '9067fcfe-4fa8-482b-aa7e-a2c8be2567ce",'
                    memberId: 'ae30f120-d996-4985-823a-783bea978a20",'
                    nextAction:
                      type: finishProcess
                    transactionId: 0307e3f9-f8d9-48dd-9dac-a1e3a9bbb476
                    bundleId: e765097a-182e-4903-8cad-a47ac9fc32b0
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    itemId: 0307e3f9-f8d9-48dd-9dac-a1e3a9bbb476
                    digest: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJEaWdlc3Qi
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value:
                    code: 100
                    error: Charges need one primary charge at least
            application/xml:
              schema:
                type: object
                properties: {}
              examples:
                example-1:
                  value: |-
                    {
                      "code": 6100,
                      "error": "no body/header received"
                    }
        '500':
          description: Internal Server Error
          content:
            application/json:
              schema:
                type: object
                properties: {}
  '/mgpg/api/v1/return/{jwt}':
    parameters:
      - schema:
          type: string
        name: 'jwt containing encrypted keys {clientUrl, sessionId, publicKeyId, correlationId}'
        in: path
        required: true
    post:
      tags:
        - MGPG Adaptor
      responses:
        '200':
          description: OK
          content:
            text/html:
              schema:
                type: string
              examples:
                Purchase-with-success-redirect-to-client:
                  value: |-
                    <form name="toClient" action="<redirectUrl>" method="POST">
                    <input type="hidden" name="success" value="json">
                    <SCRIPT LANGUAGE="Javascript"><!--function AutoSubmitForm() { document.toClient.submit(); }//--></SCRIPT>

                     e.g. json:
                    {"correlationId":"2e27b6c9-3d75-467a-ad62-a5d95536bfc6","sessionId":"44e05917-f405-4091-aeea-5909b3836bf6","success":true,"purchaseId":"3328839b-b663-4aa1-acc3-ff1ffd0b02d4","memberId":"e00e03a2-011c-49e8-9079-ed3bbe05d87a","nextAction":{"type":"finishProcess","resolution":"server"},"billerName":"unknown","transactionId":"af2f4db5-789a-44d3-acf8-da54419553f8","bundleId":"e765097a-182e-4903-8cad-a47ac9fc32b0","addonId":"670af402-2956-11e9-b210-d663bd873d93","itemId":"af2f4db5-789a-44d3-acf8-da54419553f8","subscriptionId":"69119993-105e-4465-a8c9-eff08b2e162f","digest":"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE2MzQ3NTI4MjAsIm5iZiI6MTYzNDc1MjgyMCwiZXhwIjoxNjM0NzU0NjIwLCJoYXNoIjoiNzhkNjVlNDE4Yjk0OGE5YzM3OWZlMzMyYzYwZGU3NGZkNTRhNDEzZTdlOTJjN2Q0Mjk2ZTliYjNmODA0NTI2ZDRkYWQ2OTRhN2VjMjg2YzBjZjNhYjA5NWNmZDE1ZDAzYjc0NzBjZjJhNTFlYzZhMWEyMjM3N2IyNDcxY2NlZWYifQ.MVUvKAQEzwHWBEr0uo_iWkSrD6lermwCXwxsmo-MfRfN0A9IFiqFnDGNSVnhtOXv09Up4g6oWiXHDLFe5WqyYA"}
        '400':
          description: Bad Request
          content:
            text/html:
              schema:
                type: string
                example: 'HTML content type containing a form and/or js code, see examples section'
              examples:
                Error:
                  value: |-
                    <html>

                    <head>
                    <title>Probiller has encountered an error</title>
                    </head>

                    <body>
                    <p>Probiller has encountered an error. See details:</p>
                    <pre>
                    {"error":"Data received does not match exceptations.","code":9606}        </pre>
                    </body>

                    </html>
  /mgpg/api/v1/purchase/validate-captcha/init:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: post-mgpg-api-v1-purchase-validate-captcha-init
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
        '500':
          description: Internal Server Error
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
  /mgpg/api/v1/purchase/validate-captcha/process:
    post:
      tags:
        - MGPG Adaptor
      summary: ''
      operationId: post-mgpg-api-v1-purchase-validate-captcha-process
      responses:
        '200':
          description: OK
        '400':
          description: Bad Request
        '500':
          description: Internal Server Error
      parameters:
        - schema:
            type: string
          in: header
          name: X-CORRELATION-ID
          description: Custom correlation id for tracking purposes.
components:
  headers:
    X-Auth-Token:
      description: Token header to be passed along in the following request
      schema:
        type: string
        example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
    apikey:
      description: Api key header to be passed along in the following request
      schema:
        type: string
        example: 123e4567-e89b-12d3-a456-426655440028
  securitySchemes:
    apiKey:
      type: apiKey
      name: X-API-Key
      in: header
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  schemas:
    healthCheck:
      type: object
      required:
        - status
        - number of site configurations
      properties:
        status:
          description: If the service is operational or not
          type: string
          enum:
            - OK
            - WARNING
            - DOWN
        number of site configurations:
          description: Number of available site configurations
          type: integer
      example:
        status: OK
        number of site configurations: 3
    selectedCrossSells:
      type: array
      description: List of Cross Sales selected by the user
      items:
        $ref: '#/components/schemas/crossSellOptionProcess'
    crossSellOptions:
      type: array
      description: List of Cross Sales to be shown to user
      items:
        $ref: '#/components/schemas/crossSellOption'
    crossSellOptionProcess:
      description: Cross sell option to be shown to user
      type: object
      required:
        - siteId
        - bundleId
        - addonId
      properties:
        siteId:
          description: The site id for which the cross sale is related to. e.g. If you are selling a bundle with add-on for Reality Kings premium you would add the Reality Kings Premium site id here.
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
    crossSellOption:
      description: Cross sell option to be shown to user
      type: object
      required:
        - siteId
        - bundleId
        - addonId
        - amount
        - initialDays
        - isTrial
      properties:
        bundleId:
          description: Bundle ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        siteId:
          description: Site ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: The existing subscription Id
          type: string
          example: 87266bdd-96e9-47cd-8314-eaa4f9494846
        initialDays:
          description: Initial days
          type: integer
          example: 2
        rebillDays:
          description: Rebill days
          type: integer
          example: 30
        amount:
          description: Transaction amount
          type: number
          format: double
          example: 187.6
        legacyProductId:
          description: Legacy Product Id
          type: string
          example: 123
        rebillAmount:
          description: Rebill amount
          type: number
          format: double
          example: 187.6
        isTrial:
          description: Is trial
          type: boolean
          example: false
        tax:
          $ref: '#/components/schemas/tax'
    mgpgCrossSellOptions:
      type: array
      description: List of Cross Sales to be shown to user
      items:
        $ref: '#/components/schemas/mgpgCrossSellOption'
    mgpgCrossSellOptionProcess:
      description: Cross sell option to be shown to user
      type: object
      required:
        - siteId
        - bundleId
        - addonId
      properties:
        siteId:
          description: The site id for which the cross sale is related to. e.g. If you are selling a bundle with add-on for Reality Kings premium you would add the Reality Kings Premium site id here.
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
    mgpgCrossSellOption:
      description: Cross sell option to be shown to user
      type: object
      required:
        - siteId
        - bundleId
        - addonId
        - amount
        - initialDays
        - isTrial
      properties:
        bundleId:
          description: Bundle ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        siteId:
          description: Site ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: The existing subscription Id
          type: string
          example: 87266bdd-96e9-47cd-8314-eaa4f9494846
        initialDays:
          description: Initial days
          type: integer
          example: 2
        rebillDays:
          description: Rebill days
          type: integer
          example: 30
        amount:
          description: Transaction amount
          type: number
          format: double
          example: 187.6
        rebillAmount:
          description: Rebill amount
          type: number
          format: double
          example: 187.6
        isTrial:
          description: Is trial
          type: boolean
          example: false
        tax:
          $ref: '#/components/schemas/tax'
        legacyMapping:
          $ref: '#/components/schemas/legacyMapping'
        entitlements:
          description: entitlements
          type: array
          items:
            type: object
            properties:
              any:
                type: object
                properties:
                  data:
                    type: string
    legacyMapping:
      description: Mapping of fields for purchases through billing-gateway
      type: object
      required:
        - legacyProductId
        - legacyMemberId
      properties:
        legacyProductId:
          description: Product Id in legacy system
          type: integer
          example: 100
        legacyMemberId:
          description: Member Id in legacy system
          type: integer
          example: 3410
    legacyMappingDataIds:
      description: Fields forwarded to billing-gateway for legacy billers
      type: object
      properties:
        legacyProductId:
          description: Product Id in legacy system
          type: integer
          example: 100
        legacyMemberId:
          description: Member Id in legacy system
          type: integer
          example: 3410
    tax:
      description: Tax collection
      type: object
      properties:
        initialAmount:
          $ref: '#/components/schemas/amounts'
        rebillAmount:
          $ref: '#/components/schemas/amounts'
        taxApplicationId:
          description: Tax identifier
          type: string
          example: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
        taxName:
          description: Tax name
          type: string
          example: Tax Name
        taxRate:
          description: Tax rate
          type: number
          format: double
          example: 0.05
        taxType:
          description: Tax Type
          type: string
          example: vat
    mgpgProcessPurchaseResponse:
      type: object
      anyOf:
        - $ref: '#/components/schemas/mgpgProcessPurchaseFraud'
        - $ref: '#/components/schemas/mgpgProcessPurchaseNoFraud'
    mgpgProcessRebillUpdateResponsePayload:
      type: object
      anyOf:
        - $ref: '#/components/schemas/mgpgProcessRebillUpdateFraud'
        - $ref: '#/components/schemas/mgpgProcessRebillUpdateNoFraud'
    processPurchaseResponse:
      type: object
      anyOf:
        - $ref: '#/components/schemas/processPurchaseFraud'
        - $ref: '#/components/schemas/processPurchaseNoFraud'
    postbackReturnResponse:
      type: object
      properties:
        type:
          description: The postback type.
          type: string
        payload:
          description: The postback payload content.
          type: object
    paymentTemplate:
      description: Provides a collection of the available payment templates we have for the member. It can be used to request confirmation from the user to do additional purchases without having to provide the full credit card details.
      type: array
      items:
        description: The initial payment template information
        type: object
        required:
          - templateId
          - firstSix
          - expirationYear
          - expirationMonth
          - lastUsedDate
        properties:
          templateId:
            description: The template id
            type: string
            example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
          firstSix:
            description: The first six
            type: string
            example: '123123'
          expirationYear:
            description: The expiration year for the payment template
            type: string
            example: '2019'
          expirationMonth:
            description: The expiration month for the payment template
            type: string
            example: '06'
          lastUsedDate:
            description: The last usage date of this payment template
            type: string
            example: '2019-08-11 15:15:25'
    mgpgPaymentTemplate:
      description: Provides a collection of the available payment templates we have for the member. It can be used to request confirmation from the user to do additional purchases without having to provide the full credit card details.
      type: array
      items:
        description: The initial payment template information
        type: object
        required:
          - templateId
          - firstSix
          - expirationYear
          - expirationMonth
          - lastUsedDate
        properties:
          templateId:
            description: The template id
            type: string
            example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
          firstSix:
            description: The first six
            type: string
            example: '123123'
          expirationYear:
            description: The expiration year for the payment template
            type: string
            example: '2019'
          expirationMonth:
            description: The expiration month for the payment template
            type: string
            example: '06'
          lastUsedDate:
            description: The last usage date of this payment template
            type: string
            example: '2019-08-11 15:15:25'
            deprecated: true
    amounts:
      description: amounts
      type: object
      properties:
        beforeTaxes:
          description: Amount before tax
          type: number
          format: double
          example: 160.8
        taxes:
          description: Taxes
          type: number
          format: double
          example: 26.8
        afterTaxes:
          description: Amount after tax
          type: number
          format: double
          example: 187.6
    member:
      description: 'Member details, these fields are mandatory for the initial join, but optional for secondary revenue requests'
      type: object
      properties:
        email:
          description: Member's email
          type: string
          example: test@EPS.mindgeek.com
        username:
          description: Username
          type: string
          example: user123
        password:
          description: Password
          type: string
          example: secretPassword
        firstName:
          description: First name
          type: string
          example: Mister
        lastName:
          description: Last name
          type: string
          example: Axe
        countryCode:
          description: Country code
          type: string
          example: CA
        zipCode:
          description: Zip code
          type: string
          example: H0H0H0
        address1:
          description: Address 1
          type: string
          example: 123 Random Street
        address2:
          description: Address 2
          type: string
          example: Hello Boulevard
        city:
          description: City
          type: string
          example: Montreal
        state:
          description: State
          type: string
          example: Quebec
        phone:
          description: Phone
          type: string
          example: 514-000-0911
      required:
        - email
        - username
        - password
        - firstName
        - lastName
        - countryCode
        - zipCode
    mgpgMember:
      description: 'Member details, these fields are mandatory for the initial join, but optional for secondary revenue requests'
      type: object
      required:
        - email
        - firstName
        - lastName
      properties:
        email:
          description: Member's email
          type: string
          example: test@EPS.mindgeek.com
        username:
          description: Username
          type: string
          example: user123
        password:
          description: Password
          type: string
          example: secretPassword
        firstName:
          description: First name
          type: string
          example: Mister
        lastName:
          description: Last name
          type: string
          example: Axe
        countryCode:
          description: Country code
          type: string
          example: CA
        zipCode:
          description: Zip code
          type: string
          example: H0H0H0
        address1:
          description: Address 1
          type: string
          example: 123 Random Street
        address2:
          description: Address 2
          type: string
          example: Hello Boulevard
        city:
          description: City
          type: string
          example: Montreal
        state:
          description: State
          type: string
          example: Quebec
        phone:
          description: Phone
          type: string
          example: 514-000-0911
    mgpgPayment:
      description: 'Payment fields, cardInformation is used for initial join, paymentTemplateInformation is used for secondary revenue'
      type: object
      properties:
        type:
          description: Payment type.
          type: string
          example: cc
          enum:
            - cc
            - ewallet
            - banktransfer
            - prepaywallet
            - checks
            - cryptocurrency
            - giftcards
        method:
          description: Payment method. Required in case of paymentTemplateInformation.
          type: string
          example: cc
          enum:
            - alipay
            - americanexpress
            - bccard
            - bancontact
            - cartebleue
            - checks
            - cryptocurrency
            - dinacard
            - dinersclub
            - directdebit
            - discover
            - ec
            - elv
            - eps
            - epsssl
            - euteller
            - giftcards
            - giropay
            - interaconline
            - jcb
            - maestro
            - mastercard
            - mastercarddebit
            - neosurf
            - neteller
            - onlineuberweisung
            - poli
            - paypal
            - paysafecard
            - postepay
            - przelewy24
            - qiwi
            - sepadirectdebit
            - safetypay
            - skrill
            - sofortbanking
            - sofortuberweisung
            - switch
            - trustpay
            - unionpay
            - visa
            - visadebit
            - wechat
            - epaybg
            - ideal
            - toditocash
            - cc
            - mir
            - ccunionpay
        cardInformation:
          description: 'The card details to be used by the biller, mutually exclusive with paymentTemplateInformation'
          type: object
          required:
            - ccNumber
            - cvv
            - cardExpirationMonth
            - cardExpirationYear
          properties:
            ccNumber:
              description: Credit card number
              type: string
              example: 4111111111111111
            cvv:
              description: CVV
              type: integer
              example: 123
            cardExpirationMonth:
              description: Credit card expiration month
              type: string
              example: '05'
            cardExpirationYear:
              description: Credit card expiration year
              type: string
              example: '2020'
        paymentTemplateInformation:
          description: 'The selected payment template information, mutually exclusive with cardInformation'
          type: object
          properties:
            accountNumberLast4:
              description: The selected payment template ACH account last four. Mandatory in case of requiresIdentityVerification = true from init response.
              type: string
              example: '1234'
            lastFour:
              description: The selected payment template last four. Mandatory in case of requiresIdentityVerification = true from init response.
              type: string
              example: '1234'
            paymentTemplateId:
              description: The id of the selected payment template
              type: string
              example: 63d64f10-a946-4226-82fe-d7abe11608a3
          required:
            - paymentTemplateId
        checkInformation:
          description: The checks information
          type: object
          properties:
            routingNumber:
              type: string
              example: '999999999'
            accountNumber:
              type: string
              example: '112233'
            savingAccount:
              type: boolean
              example: false
            socialSecurityLast4:
              type: string
              example: '5233'
            label:
              type: string
          required:
            - routingNumber
            - accountNumber
            - savingAccount
            - socialSecurityLast4
            - label
    payment:
      description: 'Payment fields, cardInformation is used for initial join, paymentTemplateInformation is used for secondary revenue'
      type: object
      properties:
        method:
          description: Payment method used for QYSSO biller
          type: string
          example: zelle
        cardInformation:
          description: 'The card details to be used by the biller, mutually exclusive with paymentTemplateInformation'
          type: object
          required:
            - ccNumber
            - cvv
            - cardExpirationMonth
            - cardExpirationYear
          properties:
            ccNumber:
              description: Credit card number
              type: string
              example: 4111111111111111
            cvv:
              description: CVV
              type: integer
              example: 123
            cardExpirationMonth:
              description: Credit card expiration month
              type: string
              example: '05'
            cardExpirationYear:
              description: Credit card expiration year
              type: string
              example: '2020'
        paymentTemplateInformation:
          description: 'The selected payment template information, mutually exclusive with cardInformation'
          type: object
          required:
            - paymentTemplateId
          properties:
            lastFour:
              description: The selected payment template last four. Not Mandatory in case of safe bin.
              type: string
              example: '1234'
            paymentTemplateId:
              description: The id of the selected payment template
              type: string
              example: 63d64f10-a946-4226-82fe-d7abe11608a3
        checkInformation:
          description: The checks information
          type: object
          required:
            - routingNumber
            - accountNumber
            - savingAccount
            - socialSecurityLast4
          properties:
            routingNumber:
              type: string
              example: '999999999'
            accountNumber:
              type: string
              example: '112233'
            savingAccount:
              type: boolean
              example: false
            socialSecurityLast4:
              type: string
              example: '5233'
    initPurchasePayload:
      type: object
      required:
        - siteId
        - currency
        - bundleId
        - addonId
        - clientIp
        - paymentType
        - clientCountryCode
        - amount
        - initialDays
        - isTrial
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: 'The existing subscription Id, mutually exclusive with entrySiteId'
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        entrySiteId:
          description: 'The entry site Id for the new subscription, mutually exclusive with subscriptionId'
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        memberId:
          description: The existing member id in the case of secondary revenue
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        amount:
          description: Transaction amount
          type: number
          format: double
          example: 187.6
        initialDays:
          description: Initial days
          type: integer
          example: 2
        rebillDays:
          description: Rebill days
          type: integer
          example: 30
        rebillAmount:
          description: Rebill amount
          type: number
          format: double
          example: 187.6
        currency:
          description: Currency
          type: string
          example: CAD
        clientIp:
          description: Client IP
          type: string
          example: 192.168.1.1
        paymentType:
          description: Payment type
          type: string
          enum:
            - cc
            - ewallet
            - banktransfer
            - prepaywallet
            - checks
            - cryptocurrency
            - giftcards
        clientCountryCode:
          description: Client country code
          type: string
          example: CA
        atlasCode:
          description: Atlas Code
          type: string
          example: NDU1MDk1OjQ4OjE0Nw
        atlasData:
          description: Atlas Data
          type: string
          example: atlas data example
        isTrial:
          description: Is trial
          type: boolean
          example: false
        tax:
          $ref: '#/components/schemas/tax'
        crossSellOptions:
          $ref: '#/components/schemas/crossSellOptions'
        paymentMethod:
          description: Payment method
          type: string
          enum:
            - alipay
            - americanexpress
            - bccard
            - bancontact
            - cartebleue
            - checks
            - cryptocurrency
            - dinacard
            - dinersclub
            - directdebit
            - discover
            - ec
            - elv
            - eps
            - epsssl
            - euteller
            - giftcards
            - giropay
            - interaconline
            - jcb
            - maestro
            - mastercard
            - mastercarddebit
            - neosurf
            - neteller
            - onlineuberweisung
            - poli
            - paypal
            - paysafecard
            - postepay
            - przelewy24
            - qiwi
            - sepadirectdebit
            - safetypay
            - skrill
            - sofortbanking
            - sofortuberweisung
            - switch
            - trustpay
            - unionpay
            - visa
            - visadebit
            - wechat
            - epaybg
            - ideal
            - toditocash
            - mir
            - ccunionpay
        trafficSource:
          description: Traffic source
          type: string
          example: ALL
        redirectUrl:
          description: The client url that the customer will be redirected after the complete step or if an error occurs during the 3DS flow.
          type: string
          example: 'https://client-complete-return-url'
        postbackUrl:
          description: 'The client url that the customer will be redirected '
          type: string
          example: 'https://client-complete-postback-url'
    mgpgInitPurchasePayload:
      type: object
      required:
        - siteId
        - currency
        - bundleId
        - addonId
        - clientIp
        - paymentType
        - clientCountryCode
        - amount
        - initialDays
        - isTrial
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: 'The existing subscription Id, mutually exclusive with entrySiteId'
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        entrySiteId:
          description: 'The entry site Id for the new subscription, mutually exclusive with subscriptionId'
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        memberId:
          description: The existing member id in the case of secondary revenue
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3 | "TJ99999" | "987654321"
        usingMemberProfile:
          description: allow to use Member Profile Service as an entitlement service
          type: boolean
          example: false
          default: true
        amount:
          description: Transaction amount
          type: number
          format: double
          example: 187.6
        initialDays:
          description: Initial days
          type: integer
          example: 2
        rebillDays:
          description: Rebill days
          type: integer
          example: 30
        rebillAmount:
          description: Rebill amount
          type: number
          format: double
          example: 187.6
        currency:
          description: Currency
          type: string
          example: CAD
        clientIp:
          description: Client IP
          type: string
          example: 192.168.1.1
        clientCountryCode:
          description: Client country code
          type: string
          example: CA
        atlasCode:
          description: Atlas Code
          type: string
          example: NDU1MDk1OjQ4OjE0Nw
        atlasData:
          description: Atlas Data
          type: string
          example: atlas data example
        isTrial:
          description: Is trial
          type: boolean
          example: false
        tax:
          $ref: '#/components/schemas/tax'
        legacyMapping:
          $ref: '#/components/schemas/legacyMapping'
        crossSellOptions:
          $ref: '#/components/schemas/mgpgCrossSellOptions'
        paymentType:
          description: Payment type
          type: string
          enum:
            - unknown
            - alipay
            - banktransfer
            - cc
            - check
            - checks
            - crypto
            - cryptocurrency
            - elv
            - ewallet
            - giftcard
            - giftcards
            - mcb
            - paypal
            - paysafecard
            - prepaywallet
            - sepa
            - skrill
            - sofortbanking
            - unionpay
            - wechat
        paymentMethod:
          description: Payment method
          type: string
          enum:
            - alipay
            - americanexpress
            - bccard
            - bancontact
            - cartebleue
            - checks
            - cryptocurrency
            - dinacard
            - dinersclub
            - directdebit
            - discover
            - ec
            - elv
            - eps
            - epsssl
            - euteller
            - giftcards
            - giropay
            - interaconline
            - jcb
            - maestro
            - mastercard
            - mastercarddebit
            - neosurf
            - neteller
            - onlineuberweisung
            - poli
            - paypal
            - paysafecard
            - postepay
            - przelewy24
            - qiwi
            - sepadirectdebit
            - safetypay
            - skrill
            - sofortbanking
            - sofortuberweisung
            - switch
            - trustpay
            - unionpay
            - visa
            - visadebit
            - wechat
            - epaybg
            - ideal
            - toditocash
            - cc
            - mir
            - ccunionpay
        trafficSource:
          description: Traffic source
          type: string
          example: ALL
        redirectUrl:
          description: The client url that the customer will be redirected after the complete step or if an error occurs during the 3DS flow.
          type: string
          example: 'https://client-complete-return-url'
        postbackUrl:
          description: 'The client url that the customer will be redirected '
          type: string
          example: 'https://client-complete-postback-url'
        overrides:
          description: MGPG Overrides to trigger specific responses
          type: array
          example: []
        dws:
          $ref: ./models/dws.v1.yaml
        entitlements:
          description: entitlements
          type: array
          items:
            type: object
            properties:
              any:
                type: object
                properties:
                  data:
                    type: string
      x-examples:
        example-1:
          siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
          bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
          addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
          subscriptionId: 63d64f10-a946-4226-82fe-d7abe11608a3
          entrySiteId: 63d64f10-a946-4226-82fe-d7abe11608a3
          memberId: 63d64f10-a946-4226-82fe-d7abe11608a3
          amount: 187.6
          initialDays: 2
          rebillDays: 30
          rebillAmount: 187.6
          currency: CAD
          clientIp: 192.168.1.1
          clientCountryCode: CA
          atlasCode: NDU1MDk1OjQ4OjE0Nw
          atlasData: atlas data example
          isTrial: false
          tax:
            initialAmount:
              beforeTaxes: 160.8
              taxes: 26.8
              afterTaxes: 187.6
            rebillAmount:
              beforeTaxes: 160.8
              taxes: 26.8
              afterTaxes: 187.6
            taxApplicationId: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
            taxName: Tax Name
            taxRate: 0.05
            taxType: vat
          legacyMapping:
            legacyProductId: 100
            legacyMemberId: 3410
          crossSellOptions:
            - bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
              addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
              siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
              subscriptionId: 87266bdd-96e9-47cd-8314-eaa4f9494846
              initialDays: 2
              rebillDays: 30
              amount: 187.6
              rebillAmount: 187.6
              isTrial: false
              tax:
                initialAmount:
                  beforeTaxes: 160.8
                  taxes: 26.8
                  afterTaxes: 187.6
                rebillAmount:
                  beforeTaxes: 160.8
                  taxes: 26.8
                  afterTaxes: 187.6
                taxApplicationId: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
                taxName: Tax Name
                taxRate: 0.05
                taxType: vat
              legacyMapping:
                legacyProductId: 100
                legacyMemberId: 3410
          paymentType: unknown
          paymentMethod: alipay
          trafficSource: ALL
          redirectUrl: 'https://client-complete-return-url'
          postbackUrl: 'https://client-complete-postback-url'
          overrides: []
          dws:
            maxMind:
              x-geo-country-code: US
              x-geo-country-code3: USA
              x-geo-country-name: United States
              x-geo-city-country-code: US
              x-geo-city-country-code3: USA
              x-geo-city-country-name: United States
              x-geo-region: UT
              x-geo-city: Salt Lake city
              x-geo-postal-code: '84116'
              x-geo-city-continent-code: NA
              x-geo-latitude: '407849'
              x-geo-longitude: '-111.9338'
              x-geo-region-code: UT
              x-geo-continent-name: North America
              x-geo-isp: COMCAST-7922
              x-geo-connection-type: Cable/DSL
              x-geo-asn: '7922'
      title: ''
      description: ''
    mgpgInitRebillUpdatePayload:
      type: object
      required:
        - siteId
        - itemId
        - currency
        - bundleId
        - addonId
        - clientIp
        - paymentType
        - clientCountryCode
        - amount
        - initialDays
        - isTrial
        - businessTransactionOperation
        - paymentMethod
        - paymentType
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon ID
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        itemId:
          description: The existing item Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        memberId:
          description: The existing member id in the case of secondary revenue
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        usingMemberProfile:
          description: allow to use Member Profile Service as an entitlement service
          type: boolean
          example: false
          default: true
        amount:
          description: Transaction amount
          type: number
          format: double
          example: 187.6
        initialDays:
          description: Initial days
          type: integer
          example: 2
        rebillDays:
          description: Rebill days
          type: integer
          example: 30
        rebillAmount:
          description: Rebill amount
          type: number
          format: double
          example: 187.6
        addRemainingDays:
          description: Add Remaining days from current subscription
          type: boolean
          example: false
        currency:
          description: Currency
          type: string
          example: CAD
        clientIp:
          description: Client IP
          type: string
          example: 192.168.1.1
        clientCountryCode:
          description: Client country code
          type: string
          example: CA
        atlasCode:
          description: Atlas Code
          type: string
          example: NDU1MDk1OjQ4OjE0Nw
        atlasData:
          description: Atlas Data
          type: string
          example: atlas data example
        tax:
          $ref: '#/components/schemas/tax'
        legacyMapping:
          $ref: '#/components/schemas/legacyMapping'
        businessTransactionOperation:
          description: Payment type
          type: string
          enum:
            - subscriptionUpgrade
            - subscriptionTrialUpgrade
            - subscriptionExpiredRenew
        paymentType:
          description: Payment type
          type: string
          enum:
            - unknown
            - alipay
            - banktransfer
            - cc
            - check
            - checks
            - crypto
            - cryptocurrency
            - elv
            - ewallet
            - giftcard
            - giftcards
            - mcb
            - paypal
            - paysafecard
            - prepaywallet
            - sepa
            - skrill
            - sofortbanking
            - unionpay
            - wechat
        paymentMethod:
          description: Payment method
          type: string
          enum:
            - alipay
            - americanexpress
            - bccard
            - bancontact
            - cartebleue
            - checks
            - cryptocurrency
            - dinacard
            - dinersclub
            - directdebit
            - discover
            - ec
            - elv
            - eps
            - epsssl
            - euteller
            - giftcards
            - giropay
            - interaconline
            - jcb
            - maestro
            - mastercard
            - mastercarddebit
            - neosurf
            - neteller
            - onlineuberweisung
            - poli
            - paypal
            - paysafecard
            - postepay
            - przelewy24
            - qiwi
            - sepadirectdebit
            - safetypay
            - skrill
            - sofortbanking
            - sofortuberweisung
            - switch
            - trustpay
            - unionpay
            - visa
            - visadebit
            - wechat
            - epaybg
            - ideal
            - toditocash
            - cc
            - mir
            - ccunionpay
        trafficSource:
          description: Traffic source
          type: string
          example: ALL
        redirectUrl:
          description: The client url that the customer will be redirected after the complete step or if an error occurs during the 3DS flow.
          type: string
          example: 'https://client-complete-return-url'
        postbackUrl:
          description: 'The client url that the customer will be redirected '
          type: string
          example: 'https://client-complete-postback-url'
        overrides:
          description: MGPG Overrides to trigger specific responses
          type: array
          example: []
        dws:
          $ref: ./models/dws.v1.yaml
    lookupPayment:
      description: 'Payment fields, cardInformation is used for initial join, paymentTemplateInformation is used for secondary revenue'
      type: object
      required:
        - cardInformation
      properties:
        cardInformation:
          description: 'The card details to be used by the biller, mutually exclusive with paymentTemplateInformation'
          type: object
          required:
            - ccNumber
            - cvv
            - cardExpirationMonth
            - cardExpirationYear
          properties:
            ccNumber:
              description: Credit card number
              type: string
              example: 4111111111111111
            cvv:
              description: CVV
              type: integer
              example: 123
            cardExpirationMonth:
              description: Credit card expiration month
              type: string
              example: '05'
            cardExpirationYear:
              description: Credit card expiration year
              type: string
              example: '2020'
    lookupRequestPayload:
      type: object
      required:
        - siteId
        - deviceFingerprintingId
        - payment
      properties:
        siteId:
          description: siteId Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        deviceFingerprintingId:
          description: Device fingerprinting Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        payment:
          $ref: '#/components/schemas/lookupPayment'
    mgpgProcessPurchasePayload:
      type: object
      required:
        - siteId
        - member
        - payment
        - selectedCrossSells
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        member:
          $ref: '#/components/schemas/mgpgMember'
        payment:
          $ref: '#/components/schemas/mgpgPayment'
        selectedCrossSells:
          $ref: '#/components/schemas/selectedCrossSells'
        ndWidgetData:
          description: This param will be needed by the nuData library to determine the score.
          type: string
          example: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
    processPurchasePayload:
      type: object
      required:
        - siteId
        - member
        - payment
        - selectedCrossSells
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        member:
          $ref: '#/components/schemas/member'
        payment:
          $ref: '#/components/schemas/payment'
        selectedCrossSells:
          $ref: '#/components/schemas/selectedCrossSells'
        ndWidgetData:
          description: This param will be needed by the nuData library to determine the score.
          type: string
          example: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
    mgpgProcessRebillUpdatePayload:
      type: object
      required:
        - siteId
        - payment
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        member:
          description: It is required when it is new CC.
          $ref: '#/components/schemas/mgpgMember'
        payment:
          $ref: '#/components/schemas/mgpgPayment'
        ndWidgetData:
          description: This param will be needed by the nuData library to determine the score.
          type: string
          example: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
    rocketgateIntegrationEvents:
      allOf:
        - $ref: base-integration-events.yml#/components/schemas/baseIntegrationEvents
        - type: object
          required:
            - merchant_id
            - merchant_password
            - invoice_id
            - customer_id
            - card_hash
            - merchant_account
          properties:
            merchant_id:
              description: merchant id
              type: string
              example: 1366400931
            merchant_password:
              description: merchant password
              type: string
              example: GBrDAVvNRm4EDXJy
            invoice_id:
              description: Invoice Id
              type: string
              example: 7e779d15-5c63f55857f5f1.74956582
            customer_id:
              description: Customer Id
              type: string
              example: 938200cd-5c63f55857f367.43201674
            card_hash:
              description: card hash
              type: string
              example: m77xlHZiPKVsF9p1\\/VdzTb+CUwaGBDpuSRxtcb7+j24=
            merchant_account:
              description: merchant account
              type: string
              example: ''
            card_description:
              description: Card description
              type: string
              example: CREDIT
    validateCaptchaPayload:
      type: object
      required:
        - siteId
      properties:
        siteId:
          description: Site Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
    retrieveTransactionPayload:
      type: object
      properties:
        itemId:
          type: string
          example: b9ce5a19-f7d0-4194-aa97-b9ab41983617
    mgpgProcessPurchaseFraud:
      type: object
      properties:
        sessionId:
          description: user flow unique id.
          type: string
          example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
        mgpgSessionId:
          description: user flow unique id within mgpg
          type: string
          example: b57d786698f8e640a50e67053e70775e
        correlationId:
          description: event chain unique id across services
          type: string
          example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
        fraudAdvice:
          deprecated: true
          description: Fraud advice
          type: object
          required:
            - captcha
            - blacklist
          properties:
            captcha:
              type: boolean
              example: false
            blacklist:
              type: boolean
              example: true
        digest:
          description: 'This is a signed jwt token containg the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        fraudRecommendation:
          deprecated: true
          $ref: '#/components/schemas/fraudRecommendation'
        fraudRecommendationCollection:
          type: array
          items:
            $ref: '#/components/schemas/fraudRecommendation'
      required:
        - fraudAdvice
    mgpgProcessPurchaseNoFraud:
      type: object
      required:
        - success
        - purchaseId
        - nextAction
      properties:
        sessionId:
          description: user flow unique id.
          type: string
          example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
        mgpgSessionId:
          description: user flow unique id within mgpg
          type: string
          example: b57d786698f8e640a50e67053e70775e
        correlationId:
          description: event chain unique id across services
          type: string
          example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
        success:
          description: Main transaction's success
          type: boolean
          example: true
        billerName:
          type: string
          default: unknown
          deprecated: true
        isUsernamePadded:
          description: 'Indicates if username existed already and was automatically padded, this will not be returned at all.'
          type: boolean
          deprecated: true
        memberId:
          description: Member Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        purchaseId:
          description: Purchase Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: Subscription Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        itemId:
          description: Item Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        crossSells:
          description: Cross sell transactions
          type: array
          items:
            type: object
            required:
              - success
            properties:
              success:
                description: Main transaction's success
                type: boolean
                example: true
              bundleId:
                description: Bundle Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              addonId:
                description: Addon Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              subscriptionId:
                description: Subscription Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              itemId:
                description: Item Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
        isNsf:
          description: If purchase was declined with non sufficient funds reason
          type: boolean
          example: true
        digest:
          description: 'This is a signed jwt token containing the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        nextAction:
          description: The next action
          type: object
          required:
            - type
          properties:
            type:
              description: Type of next action
              type: string
              example: authenticate3D
            version:
              description: In case of 3DS2.x
              type: integer
              example: 2
            threeD:
              type: object
              properties:
                authenticateUrl:
                  description: Authenticate url
                  type: string
                  example: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                jwt:
                  description: 3DS 2.x jwt
                  type: string
                  example: <3ds_stpup_jwt>
                md:
                  description: rocketgate transaction id for 3DS.x
                  type: string
                  example: <rocketgate_biller_transaction_id>
    processPurchaseFraud:
      type: object
      properties:
        fraudAdvice:
          deprecated: true
          description: Fraud advice
          type: object
          required:
            - captcha
            - blacklist
          properties:
            captcha:
              type: boolean
              example: false
            blacklist:
              type: boolean
              example: true
        digest:
          description: 'This is a signed jwt token containg the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        fraudRecommendation:
          deprecated: true
          $ref: '#/components/schemas/fraudRecommendation'
        fraudRecommendationCollection:
          type: array
          items:
            $ref: '#/components/schemas/fraudRecommendation'
      required:
        - fraudAdvice
    processPurchaseNoFraud:
      type: object
      required:
        - success
        - purchaseId
        - nextAction
      properties:
        success:
          description: Main transaction's success
          type: boolean
          example: true
        memberId:
          description: Member Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        purchaseId:
          description: Purchase Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        bundleId:
          description: Bundle Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        addonId:
          description: Addon Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        subscriptionId:
          description: Subscription Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        itemId:
          description: Item Id
          type: string
          example: 63d64f10-a946-4226-82fe-d7abe11608a3
        isUsernamePadded:
          description: Indicates if provided username already existed and was automatically padded
          type: boolean
        crossSells:
          description: Cross sell transactions
          type: array
          items:
            type: object
            required:
              - success
            properties:
              success:
                description: Main transaction's success
                type: boolean
                example: true
              bundleId:
                description: Bundle Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              addonId:
                description: Addon Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              subscriptionId:
                description: Subscription Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
              itemId:
                description: Item Id
                type: string
                example: 63d64f10-a946-4226-82fe-d7abe11608a3
        isNsf:
          description: If purchase was declined with non sufficient funds reason
          type: boolean
          example: true
        digest:
          description: 'This is a signed jwt token containing the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        nextAction:
          description: The next action
          type: object
          required:
            - type
          properties:
            type:
              description: Type of next action
              type: string
              example: authenticate3D
            version:
              description: In case of 3DS2.x
              type: integer
              example: 2
            threeD:
              type: object
              properties:
                authenticateUrl:
                  description: Authenticate url
                  type: string
                  example: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                jwt:
                  description: 3DS 2.x jwt
                  type: string
                  example: <3ds_stpup_jwt>
                md:
                  description: rocketgate transaction id for 3DS.x
                  type: string
                  example: <rocketgate_biller_transaction_id>
    captchaValidationResponse:
      type: object
      required:
        - Status
      properties:
        Status:
          description: Status
          type: string
          example: Ok
    failedBiller:
      type: object
      properties:
        billerName:
          description: The name of the failed biller
          type: string
          example: rocketgate
    fraudRecommendation:
      deprecated: true
      description: 'Fraud Recommendation. All codes in https://wiki.mgcorp.co/display/PROBILLER/Fraud+Service+Codes+and+Triggers'
      title: fraudRecommendation
      type: object
      x-examples:
        Captcha:
          severity: Block
          code: 110
          message: Captcha required
      properties:
        severity:
          type: string
        code:
          type: integer
        message:
          type: string
      required:
        - severity
        - code
        - message
    mgpgProcessRebillUpdateFraud:
      type: object
      properties:
        sessionId:
          description: user flow unique id.
          type: string
          example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
        mgpgSessionId:
          description: user flow unique id within mgpg
          type: string
          example: 19bd796a7286df45896d89f289127f6b
        correlationId:
          description: event chain unique id across services
          type: string
          example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
        fraudAdvice:
          deprecated: true
          description: Fraud advice
          type: object
          required:
            - captcha
            - blacklist
          properties:
            captcha:
              type: boolean
              example: false
            blacklist:
              type: boolean
              example: true
        digest:
          description: 'This is a signed jwt token containg the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        fraudRecommendation:
          deprecated: true
          $ref: '#/components/schemas/fraudRecommendation'
        fraudRecommendationCollection:
          type: array
          items:
            $ref: '#/components/schemas/fraudRecommendation'
      required:
        - fraudAdvice
    mgpgProcessRebillUpdateNoFraud:
      type: object
      required:
        - success
        - invoice
        - nextAction
      properties:
        sessionId:
          description: user flow unique id.
          type: string
          example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
        mgpgSessionId:
          description: user flow unique id within mgpg
          type: string
          example: 19bd796a7286df45896d89f289127f6b
        correlationId:
          description: event chain unique id across services
          type: string
          example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
        success:
          description: Transaction's success
          type: boolean
          example: true
        invoice:
          $ref: ./models/mgpgRebillUpdateInvoice.v1.yaml
        digest:
          description: 'This is a signed jwt token containing the hash of the response itself. [More here](https://wiki.mgcorp.co/display/PROBILLER/Purchase+Gateway+Developer+Integration)'
          type: string
          example: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJoYXNoIjoiRkVDQjBBM0QxQ0EwQUY3NjQ5OTRCNUYwNTdCM0E3OTBGNTRENDk4NkYzQkE3MURFQjAwMTdBMTZCMTBEMkI1RTZBMkZCRjIxQTMzODhENkE0OUQyQTU2OUJFOTMzMDMzOTAxN0Q0QTUzQUNGQTJBQ0IwQURFQzNENEE5RjY0MTEifQ.79aVe2ZlZPTYjlh6cBeaYt8sAF3tQ355z9HVsxKMr-c
        nextAction:
          description: The next action
          type: object
          required:
            - type
          properties:
            type:
              description: Type of next action
              type: string
              example: finishProcess
            resolution:
              description: Intentify the entity that should be rendered
              type: string
              example: server
  requestBodies:
    initPurchaseRequest:
      description: Initialize purchase request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/initPurchasePayload'
    mgpgInitRebillUpdateRequest:
      description: Initialize rebill update request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgInitRebillUpdatePayload'
    mgpgInitPurchaseRequest:
      description: Initialize purchase request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgInitPurchasePayload'
          examples:
            cc-init-purchase-request:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                subscriptionId: 63d64f10-a946-4226-82fe-d7abe11608a3
                entrySiteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                memberId: 63d64f10-a946-4226-82fe-d7abe11608a3
                usingMemberProfile: true
                amount: 187.6
                initialDays: 2
                rebillDays: 30
                rebillAmount: 187.6
                currency: CAD
                clientIp: 192.168.1.1
                clientCountryCode: CA
                atlasCode: NDU1MDk1OjQ4OjE0Nw
                atlasData: atlas data example
                isTrial: false
                tax:
                  initialAmount:
                    beforeTaxes: 160.8
                    taxes: 26.8
                    afterTaxes: 187.6
                  rebillAmount:
                    beforeTaxes: 160.8
                    taxes: 26.8
                    afterTaxes: 187.6
                  taxApplicationId: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
                  taxName: Tax Name
                  taxRate: 0.05
                  taxType: vat
                legacyMapping:
                  legacyProductId: 100
                  legacyMemberId: 3410
                crossSellOptions:
                  - bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    subscriptionId: 87266bdd-96e9-47cd-8314-eaa4f9494846
                    initialDays: 2
                    rebillDays: 30
                    amount: 187.6
                    rebillAmount: 187.6
                    isTrial: false
                    tax:
                      initialAmount:
                        beforeTaxes: 160.8
                        taxes: 26.8
                        afterTaxes: 187.6
                      rebillAmount:
                        beforeTaxes: 160.8
                        taxes: 26.8
                        afterTaxes: 187.6
                      taxApplicationId: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
                      taxName: Tax Name
                      taxRate: 0.05
                      taxType: vat
                    legacyMapping:
                      legacyProductId: 100
                      legacyMemberId: 3410
                paymentType: unknown
                paymentMethod: alipay
                trafficSource: ALL
                redirectUrl: 'https://client-complete-return-url'
                postbackUrl: 'https://client-complete-postback-url'
                overrides: []
                dws:
                  maxMind:
                    x-geo-country-code: US
                    x-geo-country-code3: USA
                    x-geo-country-name: United States
                    x-geo-city-country-code: US
                    x-geo-city-country-code3: USA
                    x-geo-city-country-name: United States
                    x-geo-region: UT
                    x-geo-city: Salt Lake city
                    x-geo-postal-code: '84116'
                    x-geo-city-continent-code: NA
                    x-geo-latitude: '407849'
                    x-geo-longitude: '-111.9338'
                    x-geo-region-code: UT
                    x-geo-continent-name: North America
                    x-geo-isp: COMCAST-7922
                    x-geo-connection-type: Cable/DSL
                    x-geo-asn: '7922'
                entitlements:
                  any:
                    data: string
            Paygarden-New-Purchase:
              value:
                siteId: a2d4f06f-afc8-41c9-9910-0302bd2d9531
                redirectUrl: 'https://mgpg-api-1.dev.pbk8s.com/api/TestRedirect'
                postbackUrl: 'https://us-central1-mg-probiller-dev.cloudfunctions.net/postback-catchall'
                amount: 1
                initialDays: 0
                currency: USD
                bundleId: 1063c081-2c70-4b0b-bac9-387119c2c76a
                addonId: ff751f99-1242-43d1-9f51-b4ef44635cbb
                clientIp: 101.1.132.106
                paymentType: giftcards
                paymentMethod: giftcards
                clientCountryCode: US
                atlasCode: NDU1MDk1OjQ4OjE0Nw
                atlasData: atlas data example
                isTrial: false
                tax:
                  custom: yasd7 a7s8dyas78d yas7d8a7 syd8asydhasuidhasud ayshduyi sa
                  initialAmount:
                    beforeTaxes: 1
                    taxes: 0
                    afterTaxes: 1
                  taxApplicationId: 60bf5bcb-ac64-496c-acc5-9c7cf54a1869
                  taxName: VAT
                  taxRate: 0.05
                  productClassification: classification
                  taxType: type1
                legacyMapping:
                  data:
                    legacyProductId: 5903
                otherData:
                  paygarden:
                    data:
                      credit: 31
                      sku: AAAA
                crossSellOptions: []
    mgpgProcessPurchaseRequest:
      description: Process purchase request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgProcessPurchasePayload'
          examples:
            CC-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@EPS.mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Mister
                  lastName: Axe
                  countryCode: CA
                  zipCode: H0H0H0
                  address1: 123 Random Street
                  address2: Hello Boulevard
                  city: Montreal
                  phone: 514-000-0911
                payment:
                  type: banktransfer
                  method: zelle
                  cardInformation:
                    ccNumber: 4111111111111111
                    cvv: 123
                    cardExpirationMonth: '05'
                    cardExpirationYear: '2020'
                selectedCrossSells:
                  - siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            CC-Purchase-With-Payment-Template:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Mister
                  lastName: Axe
                  countryCode: CA
                  zipCode: H0H0H0
                  address1: 123 Random Street
                  address2: Hello Boulevard
                  city: Montreal
                  phone: 514-000-0911
                payment:
                  type: banktransfer
                  method: zelle
                  paymentTemplateInformation:
                    lastFour: '1234'
                    paymentTemplateId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            Checks-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: testing@EPS.mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Miss
                  lastName: Axen
                  countryCode: US
                  zipCode: 89141
                  address1: 123 Main St
                  address2: Hello Boulevard
                  city: Las Vegas
                  phone: 514-000-0911
                  state: NV
                payment:
                  method: checks
                  checkInformation:
                    routingNumber: '999999999'
                    accountNumber: '112233'
                    savingAccount: false
                    socialSecurityLast4: '5233'
                    label: label
                selectedCrossSells:
                  - siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            Paygarden-New-Purchase:
              value:
                siteId: a2d4f06f-afc8-41c9-9910-0302bd2d9531
                ndWidgetData: test
                member:
                  email: useredf433d4983f@EPS.mindgeek.com
                  username: useredf433d4983f
                  password: secretPassword
                  firstName: Random
                  lastName: Folk
                  countryCode: CA
                  zipCode: H0H0H0
                  address1: 123 Random Street
                  address2: Hello Boulevard
                  city: Montreal
                  phone: 514-000-0911
                payment:
                  method: giftcards
                  type: giftcards
              Crypto-New-Purchase:
                value:
                  siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                  member:
                    email: test@EPS.mindgeek.com
                    username: user123
                    password: secretPassword
                    firstName: Mister
                    lastName: Axe
                    countryCode: CA
                    zipCode: H0H0H0
                    address1: 123 Random Street
                    address2: Hello Boulevard
                    city: Montreal
                    state: Quebec
                    phone: 514-000-0911
                  payment:
                    type: cryptocurrency
                    method: cryptocurrency
                    cryptoCurrency: LTCT
    mgpgProcessRebillUpdateRequest:
      description: Process rebill update request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgProcessRebillUpdatePayload'
          examples:
            CC-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@EPS@mindgeek.com
                  firstName: Mister
                  lastName: Axe
                payment:
                  type: banktransfer
                  method: zelle
                  cardInformation:
                    ccNumber: 4111111111111111
                    cvv: 123
                    cardExpirationMonth: '05'
                    cardExpirationYear: '2020'
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            CC-Purchase-With-Payment-Template:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                payment:
                  type: banktransfer
                  method: zelle
                  paymentTemplateInformation:
                    lastFour: '1234'
                    paymentTemplateId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            Checks-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@EPS.mindgeek.com
                  firstName: Mister
                  lastName: Axe
                payment:
                  method: checks
                  checkInformation:
                    routingNumber: '999999999'
                    accountNumber: '112233'
                    savingAccount: false
                    socialSecurityLast4: '5233'
                    label: label
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
    processPurchaseRequest:
      description: Process purchase request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/processPurchasePayload'
          examples:
            CC-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@EPS.mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Mister
                  lastName: Axe
                  countryCode: CA
                  zipCode: H0H0H0
                  address1: 123 Random Street
                  address2: Hello Boulevard
                  city: Montreal
                  phone: 514-000-0911
                payment:
                  method: zelle
                  cardInformation:
                    ccNumber: 4111111111111111
                    cvv: 123
                    cardExpirationMonth: '05'
                    cardExpirationYear: '2020'
                selectedCrossSells:
                  - siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            CC-Purchase-With-Payment-Template:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Mister
                  lastName: Axe
                  countryCode: CA
                  zipCode: H0H0H0
                  address1: 123 Random Street
                  address2: Hello Boulevard
                  city: Montreal
                  phone: 514-000-0911
                payment:
                  method: zelle
                  paymentTemplateInformation:
                    lastFour: '1234'
                    paymentTemplateId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
            Checks-New-Purchase:
              value:
                siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                member:
                  email: test@mindgeek.com
                  username: user123
                  password: secretPassword
                  firstName: Mister
                  lastName: Axe
                  countryCode: US
                  zipCode: 89141
                  address1: 123 Main St
                  address2: Hello Boulevard
                  city: Las Vegas
                  phone: 514-000-0911
                  state: NV
                payment:
                  method: checks
                  checkInformation:
                    routingNumber: '999999999'
                    accountNumber: '112233'
                    savingAccount: false
                    socialSecurityLast4: '5233'
                selectedCrossSells:
                  - siteId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    bundleId: 63d64f10-a946-4226-82fe-d7abe11608a3
                    addonId: 63d64f10-a946-4226-82fe-d7abe11608a3
                ndWidgetData: '{"jvqtrgQngn":{"oq":"19","sn":"sn,zcrt,btt,jni","us":"45s41o716oq7245q","cy":"Jva32"}}'
    lookupRequest:
      description: Process purchase lookup request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/lookupRequestPayload'
    validateCaptcha:
      description: Validate captcha request
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/validateCaptchaPayload'
    retrieveTransaction:
      description: Retrieve transaction
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/retrieveTransactionPayload'
          examples:
            succes:
              value:
                itemId: a24082c8-3efd-4bc2-878e-569968433d75
            invalidItemId:
              value:
                itemId: nonUuidString
            itemIdNotFound:
              value:
                itemId: 99414688-2d3e-438e-bde6-849e9a859fde
            serverError:
              value:
                itemId: 2bde5ecb-0b1a-4798-9609-d7dea7d3da34
    postbackFromThirdPartyBiller:
      description: Postback from third party biller
      required: true
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/postbackReturnResponse'
          examples:
            Postback-from-epoch-biller:
              value:
                type: charge
                payload: {}
            Postback-from-qysso-biller:
              value:
                type: charge
                payload: {}
  responses:
    healthCheckResponse:
      description: Purchase gateway health check response
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/healthCheck'
          examples:
            Success:
              value:
                status: OK
                number of site configurations: 3
            Warning:
              value:
                status: WARNING
                number of site configurations: 0
            Fail:
              value:
                status: DOWN
                number of site configurations: 0
    errorResponse:
      description: Error Response
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                description: Error message
                type: string
                example: Error occurred during execution of operation
              code:
                description: Error code
                type: integer
                example: 12014
    internalError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            type: object
            required:
              - error
              - code
            properties:
              error:
                description: Error message
                type: string
                example: Something went wrong
              code:
                description: Error code
                type: integer
                example: 500
    initResponse:
      description: Initialize purchase response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            type: object
            required:
              - sessionId
              - paymentProcessorType
              - crossSellOptions
              - fraudAdvice
              - nextAction
            properties:
              sessionId:
                description: user flow unique id.
                type: string
                example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              paymentProcessorType:
                description: Error code
                type: string
                enum:
                  - gateway
                  - third-party
              redirectUrl:
                description: Redirect URL for 3rd party payment processor
                type: string
                example: 'https://www.epoch.com/purchase?a=1'
              postbackUrl:
                description: Postback URL for
                type: string
                example: 'https://www.postback-url.com'
              fraudAdvice:
                deprecated: true
                description: Fraud advice for client IP
                type: object
                properties:
                  captcha:
                    description: Show captcha because of client IP
                    type: boolean
                    example: false
                  blacklist:
                    description: Client IP blacklisted
                    type: boolean
                    example: false
              fraudRecommendation:
                deprecated: true
                $ref: '#/components/schemas/fraudRecommendation'
              fraudRecommendationCollection:
                type: array
                items:
                  $ref: '#/components/schemas/fraudRecommendation'
              paymentTemplateInfo:
                $ref: '#/components/schemas/paymentTemplate'
              nuData:
                description: NuData settings for purchase business group
                type: object
                properties:
                  clientId:
                    description: Client-ID of purchase business group
                    type: string
                    example: w-123456
                  sessionId:
                    description: User flow unique id
                    type: string
                    example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              nextAction:
                description: The next action
                type: object
                required:
                  - type
                properties:
                  type:
                    description: Type of next action
                    type: string
                    example: renderGateway
                  threeD:
                    type: object
                    properties:
                      force3DSecure:
                        description: Should 3DS be forced?
                        type: boolean
                        example: true
                      detect3Dusage:
                        description: Should detect 3DS?
                        type: boolean
                        example: true
                  thirdParty:
                    type: object
                    properties:
                      url:
                        description: The url for redirect endpoint.
                        type: string
                        example: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXA...'
                  renderGatewayOtherPayments:
                    type: object
                    properties:
                      availablePaymentMethods:
                        description: Available payment methods.
                        type: array
                        items:
                          type: string
          examples:
            Response-without-3DS:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Info
                  code: 0
                  message: No Action Taken
                fraudRecommendationCollection:
                  - severity: Info
                    code: 0
                    message: No Action Taken
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: renderGateway
            Response-with-multiple-fraud-advice:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                fraudAdvice:
                  captcha: true
                  blacklist: true
                fraudRecommendation:
                  severity: Block
                  code: 100
                  message: Blacklist Required
                fraudRecommendationCollection:
                  - severity: Block
                    code: 100
                    message: Blacklist Required
                  - severity: Block
                    code: 200
                    message: Captcha Required
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: renderGateway
            Response-with-3DS:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Info
                  code: 0
                  message: No Action Taken
                fraudRecommendationCollection:
                  - severity: Info
                    code: 0
                    message: No Action Taken
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: renderGateway
                  threeD:
                    force3DSecure: true
                    detect3Dusage: true
            Response-with-third-party-biller:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Info
                  code: 0
                  message: No Action Taken
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: redirectToUrl
                  thirdParty:
                    url: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODgwNzI3NzcsIm5iZiI6MTU4ODA3Mjc3NywiZXhwIjoxNTg4MDc0NTc3LCJzZXNzaW9uSWQiOiJ4a2RwOG5jRkI0TEEwdHVITjhyd01cLys4R2JTVTJac0dVOG1EbEpFaXdjZHhYNjJIN1l6ZlZZOXFIXC95N1VoZUZqcUFPREFrMTl5ZTIyYWdIaWRRUGo2c043UlRxUldISmFXU2NUUT09In0.h19_-NOsIt-V6tf_Kjux6mSxhM9KCRlw8tBLBc7b80fCLlOvQjQzF1pnoGMD1YJKvtQ8rBzBBzyb3Y0gp6tnIg'
            Response-render-gateway-other-payments:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Info
                  code: 0
                  message: No Action Taken
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: renderGatewayOtherPayments
                  availablePaymentMethods:
                    - zelle
    mgpgInitResponse:
      description: Initialize purchase response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            type: object
            properties:
              sessionId:
                description: user flow unique id.
                type: string
                example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              mgpgSessionId:
                description: user flow unique id within mgpg
                type: string
                example: b57d786698f8e640a50e67053e70775e
              correlationId:
                description: event chain unique id across services
                type: string
                example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
              memberId:
                description: provided for secondary purchase or generated upon first purchase attempt
                type: string
                example: 16b8fb06-387c-45ee-a654-32e7374500fa
              subscriptionId:
                description: provided for secondary purchase or generated upon first purchase attempt
                type: string
                example: 16b8fb06-387c-45ee-a654-32e7374500fa
              paymentProcessorType:
                description: Error code
                type: string
                enum:
                  - gateway
                  - third-party
                deprecated: true
              redirectUrl:
                description: Redirect URL for 3rd party payment processor
                type: string
                example: 'https://www.epoch.com/purchase?a=1'
              postbackUrl:
                description: Postback URL for
                type: string
                example: 'https://www.postback-url.com'
              fraudAdvice:
                deprecated: true
                description: Fraud advice for client IP
                type: object
                properties:
                  captcha:
                    description: Show captcha because of client IP
                    type: boolean
                    example: false
                  blacklist:
                    description: Client IP blacklisted
                    type: boolean
                    example: false
              fraudRecommendation:
                $ref: '#/components/schemas/fraudRecommendation'
              fraudRecommendationCollection:
                type: array
                items:
                  $ref: '#/components/schemas/fraudRecommendation'
              paymentTemplateInfo:
                $ref: '#/components/schemas/mgpgPaymentTemplate'
              nuData:
                description: NuData settings for purchase business group
                type: object
                properties:
                  clientId:
                    description: Client-ID of purchase business group
                    type: string
                    example: w-123456
                  sessionId:
                    description: User flow unique id
                    type: string
                    example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              nextAction:
                description: The next action
                type: object
                required:
                  - type
                properties:
                  type:
                    description: Type of next action
                    type: string
                    example: renderGateway
                  thirdParty:
                    type: object
                    properties:
                      url:
                        description: The url for redirect endpoint.
                        type: string
                        example: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXA...'
                  renderGatewayOtherPayments:
                    type: object
                    properties:
                      availablePaymentMethods:
                        description: Available payment methods.
                        type: array
                        items:
                          type: string
              cryptoSettings:
                type: array
                description: Array of supported cryptoSettings
                items:
                  $ref: ./models/cryptoSettings.yaml
            required:
              - sessionId
              - paymentProcessorType
              - fraudAdvice
              - nextAction
          examples:
            Response:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                memberId: 16b8fb06-387c-45ee-a654-32e7374500fa
                subscriptionId: 45625181-3d85-4334-8054-89c9846908ac
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Allow
                  code: 1000
                  message: Allow_Transaction
                fraudRecommendationCollection:
                  - severity: Allow
                    code: 1000
                    message: Allow_Transaction
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nextAction:
                  type: renderGateway
            Response-with-fraud-advice:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                memberId: 16b8fb06-387c-45ee-a654-32e7374500fa
                subscriptionId: 45625181-3d85-4334-8054-89c9846908ac
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: true
                fraudRecommendation:
                  severity: Block
                  code: 100
                  message: Blacklist
                fraudRecommendationCollection:
                  - severity: Block
                    code: 100
                    message: Blacklist
                nextAction:
                  type: finishProcess
            Response-with-cryptoSettings:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                memberId: 16b8fb06-387c-45ee-a654-32e7374500fa
                subscriptionId: 45625181-3d85-4334-8054-89c9846908ac
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Allow
                  code: 1000
                  message: Allow_Transaction
                fraudRecommendationCollection:
                  - severity: Allow
                    code: 1000
                    message: Allow_Transaction
                nextAction:
                  type: renderGateway
                cryptoSettings:
                  - name: Litecoin Testnet
                    code: LTCT
                    icon: 'https://mgpg-assets-dev.web.app/LTCT.svg'
            Response-with-thirdParty:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 6bee0231-181e-43f1-9243-2c2ae9aaa628
                memberId: 16b8fb06-387c-45ee-a654-32e7374500fa
                subscriptionId: 16b8fb06-387c-45ee-a654-32e7374500fa
                paymentProcessorType: gateway
                redirectUrl: 'https://www.epoch.com/purchase?a=1'
                postbackUrl: 'https://www.postback-url.com'
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: string
                  code: 0
                  message: string
                fraudRecommendationCollection:
                  - severity: string
                    code: 0
                    message: string
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nuData:
                  clientId: w-123456
                  sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                nextAction:
                  type: renderGateway
                  thirdParty:
                    url: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXA...'
                  renderGatewayOtherPayments:
                    availablePaymentMethods:
                      - string
                cryptoSettings:
                  - name: Litecoin Testnet
                    icon: 'https://mgpg-assets-dev.web.app/LTCT.svg'
                    code: LTCT
            Response-with-Paygarden:
              value:
                sessionId: 090e185c-7c4b-4fdf-ab03-64b4ce918780
                mgpgSessionId: 951750d2ebe18a41a6ed5ecfd002c1a0
                correlationId: 116fb5a8-f15a-4596-9692-94282d7b96c2
                memberId: 511e59c7-535a-402f-b2e7-85f74b302c29
                subscriptionId: 11a942ae-a6f6-4da1-9ee6-b7e57acf6def
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Allow
                  code: 1000
                  message: Allow_Transaction
                fraudRecommendationCollection:
                  - severity: Allow
                    code: 1000
                    message: Allow_Transaction
                nextAction:
                  type: renderGateway
    mgpgInitRebillUpdateResponse:
      description: Initialize purchase response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            type: object
            required:
              - sessionId
              - paymentProcessorType
              - fraudAdvice
              - nextAction
            properties:
              sessionId:
                description: user flow unique id.
                type: string
                example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              mgpgSessionId:
                description: user flow unique id within mgpg
                type: string
                example: b57d786698f8e640a50e67053e70775e
              correlationId:
                description: event chain unique id across services
                type: string
                example: 6bee0231-181e-43f1-9243-2c2ae9aaa628
              paymentProcessorType:
                description: Error code
                type: string
                enum:
                  - gateway
                  - third-party
                deprecated: true
              redirectUrl:
                description: Redirect URL for 3rd party payment processor
                type: string
                example: 'https://www.epoch.com/purchase?a=1'
              postbackUrl:
                description: Postback URL for
                type: string
                example: 'https://www.postback-url.com'
              fraudAdvice:
                deprecated: true
                description: Fraud advice for client IP
                type: object
                properties:
                  captcha:
                    description: Show captcha because of client IP
                    type: boolean
                    example: false
                  blacklist:
                    description: Client IP blacklisted
                    type: boolean
                    example: false
              fraudRecommendation:
                deprecated: true
                $ref: '#/components/schemas/fraudRecommendation'
              fraudRecommendationCollection:
                type: array
                items:
                  $ref: '#/components/schemas/fraudRecommendation'
              paymentTemplateInfo:
                $ref: '#/components/schemas/mgpgPaymentTemplate'
              nuData:
                description: NuData settings for purchase business group
                type: object
                properties:
                  clientId:
                    description: Client-ID of purchase business group
                    type: string
                    example: w-123456
                  sessionId:
                    description: User flow unique id
                    type: string
                    example: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
              isPaymentTemplateValidationEnabled:
                description: to determine if payment template is enable
                type: boolean
                example: true
              nextAction:
                description: The next action
                type: object
                required:
                  - type
                properties:
                  type:
                    description: Type of next action
                    type: string
                    example: renderGateway
                  thirdParty:
                    type: object
                    properties:
                      url:
                        description: The url for redirect endpoint.
                        type: string
                        example: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXA...'
                  renderGatewayOtherPayments:
                    type: object
                    properties:
                      availablePaymentMethods:
                        description: Available payment methods.
                        type: array
                        items:
                          type: string
          examples:
            Response:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: false
                fraudRecommendation:
                  severity: Allow
                  code: 1000
                  message: Allow_Transaction
                fraudRecommendationCollection:
                  - severity: Allow
                    code: 1000
                    message: Allow_Transaction
                paymentTemplateInfo:
                  - templateId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                    firstSix: '123123'
                    expirationYear: '2019'
                    expirationMonth: '06'
                    lastUsedDate: '2019-08-11 15:15:25'
                nextAction:
                  type: renderGateway
                  resolution: client
            Response-with-fraud-advice:
              value:
                sessionId: 7cb0496c-23d8-47a8-b8b4-49eecb719ab0
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                memberId: 16b8fb06-387c-45ee-a654-32e7374500fa
                subscriptionId: 45625181-3d85-4334-8054-89c9846908ac
                paymentProcessorType: gateway
                fraudAdvice:
                  captcha: false
                  blacklist: true
                fraudRecommendation:
                  severity: Block
                  code: 100
                  message: Blacklist
                fraudRecommendationCollection:
                  - severity: Block
                    code: 100
                    message: Blacklist
                nextAction:
                  type: finishProcess
    processResponse:
      description: Process purchase response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/processPurchaseResponse'
          examples:
            Response-without-3DS:
              value:
                success: true
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                billerName: rocketgate
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    subscriptionId: 449293bc-3981-46b4-bd37-c462b79b6744
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: finishProcess
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-3DS:
              value:
                success: true
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                billerName: rocketgate
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: authenticate3D
                  threeD:
                    authenticateUrl: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-fraud:
              value:
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                fraudRecommendation:
                  severity: Block
                  code: 110
                  message: Captcha Required
                fraudRecommendationCollection:
                  - severity: Block
                    code: 110
                    message: Captcha Required
                fraudAdvice:
                  captcha: true
                  blacklist: false
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODE0MTQwNjAsIm5iZiI6MTU4MTQxNDA2MCwiZXhwIjoxNTgxNDE1ODYwLCJoYXNoIjoiYmNiMjVjMWJhYTc0OWZkNTUxOTBmOTZiYjUwZmE4OWU1MWFhMzhkZjQxZGYyNDk4NWQ4NTdlNmZkNTVjOWM0Zjk2ODlkNjUxZjdkZDFkMWRjYzkxMTM3OGQzODI1YTBiMGMzYzJhZTY0NmViOTYwZDJlYjVkYzA3NzczNTk5MWMifQ.m406g6CC96S81dzdtMNj2m5lJo4e_7hT_FM1yG6VvmExyO6J4Ywr1BepzMmtioa0WckmPqs35Vgs17wI4far1g
            Response-with-third-party:
              value:
                success: false
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                nextAction:
                  type: redirectToUrl
                  thirdParty:
                    url: 'https://purchase-gateway.probiller.com/api/v1/purchase/thirdParty/redirect/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODgwNzI3NzcsIm5iZiI6MTU4ODA3Mjc3NywiZXhwIjoxNTg4MDc0NTc3LCJzZXNzaW9uSWQiOiJ4a2RwOG5jRkI0TEEwdHVITjhyd01cLys4R2JTVTJac0dVOG1EbEpFaXdjZHhYNjJIN1l6ZlZZOXFIXC95N1VoZUZqcUFPREFrMTl5ZTIyYWdIaWRRUGo2c043UlRxUldISmFXU2NUUT09In0.h19_-NOsIt-V6tf_Kjux6mSxhM9KCRlw8tBLBc7b80fCLlOvQjQzF1pnoGMD1YJKvtQ8rBzBBzyb3Y0gp6tnIg'
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODgwNzI3NzcsIm5iZiI6MTU4ODA3Mjc3NywiZXhwIjoxNTg4MDc0NTc3LCJoYXNoIjoiYjEwODIzYTVmNWRhZjFjZWQwNmU5OTMyNWM3MzJhMWZkYjM0NDVmNzRjYWY4NGMwMTcxNjg1NzUwMDQ5YWQ0ZDQ4NGIzNWNlNGE0YjNiODVlNjlmZGY5MzE1MzExMzk0M2NiZjA3ODdlZjdhMTQ5YjM4OWFlNzM4MWY1YTVkMjQifQ.tAk0GW08adAsbFaDF3mQpd6GCZhPhsk_UP147UyFfQUzpZxXV_kNZ_BBG93-JuKK5j-JbKTGz5_ErQnWI9spvg
            Response-for-nsf:
              value:
                success: false
                purchaseId: e69f0ff7-0e2c-4134-9fef-ec2a59086a0f
                memberId: 2ba4e62c-5f9c-44fa-9661-9fd132ada42f
                subscriptionId: 2ba4e62c-5f9c-44fa-9661-9fd132ada42f
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                nextAction:
                  type: renderGateway
                isNsf: true
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODgwNzI3NzcsIm5iZiI6MTU4ODA3Mjc3NywiZXhwIjoxNTg4MDc0NTc3LCJoYXNoIjoiYjEwODIzYTVmNWRhZjFjZWQwNmU5OTMyNWM3.........
    mgpgProcessResponse:
      description: Process purchase response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgProcessPurchaseResponse'
          examples:
            Response-without-3DS:
              value:
                success: true
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                billerName: unknown
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    subscriptionId: 449293bc-3981-46b4-bd37-c462b79b6744
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: finishProcess
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-3DS:
              value:
                success: true
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                nextAction:
                  type: authenticate3D
                  threeD:
                    authenticateUrl: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-fraud:
              value:
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                fraudRecommendation:
                  severity: Block
                  code: 200
                  message: Show_Captcha
                fraudRecommendationCollection:
                  - severity: Block
                    code: 200
                    message: Show_Captcha
                fraudAdvice:
                  captcha: true
                  blacklist: false
                nextAction:
                  type: finishProcess
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODE0MTQwNjAsIm5iZiI6MTU4MTQxNDA2MCwiZXhwIjoxNTgxNDE1ODYwLCJoYXNoIjoiYmNiMjVjMWJhYTc0OWZkNTUxOTBmOTZiYjUwZmE4OWU1MWFhMzhkZjQxZGYyNDk4NWQ4NTdlNmZkNTVjOWM0Zjk2ODlkNjUxZjdkZDFkMWRjYzkxMTM3OGQzODI1YTBiMGMzYzJhZTY0NmViOTYwZDJlYjVkYzA3NzczNTk5MWMifQ.m406g6CC96S81dzdtMNj2m5lJo4e_7hT_FM1yG6VvmExyO6J4Ywr1BepzMmtioa0WckmPqs35Vgs17wI4far1g
            Response-with-Paygarden:
              value:
                mgpgSessionId: 951750d2ebe18a41a6ed5ecfd002c1a0
                correlationId: fc8436dc-dc12-4642-82cd-23a9628cd47a
                sessionId: 090e185c-7c4b-4fdf-ab03-64b4ce918780
                success: true
                nextAction:
                  type: redirectToUrl
                  thirdParty:
                    url: 'https://secure.pstage.co/pay/site/mg2/bigstr?postback-url=https%3a%2f%2fmgpg-api-3.dev.pbk8s.com%2fapi%2fthirdparty%2fpostback%2f951750d2ebe18a41a6ed5ecfd002c1a0%2f817292bb-3804-47b4-bb3b-d1b926868cec&success-url=https%3a%2f%2fmgpg-api-3.dev.pbk8s.com%2fredirect%2fthirdparty%2freturn%2f951750d2ebe18a41a6ed5ecfd002c1a0%2f817292bb-3804-47b4-bb3b-d1b926868cec&payout-points=100%2c31&dev-verify-hash=1&email=useredf433d4983f%40EPS.mindgeek.com&security-hash=18a1ebbdbed64fbde7f3079346de6f0a'
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE2Mzg5NzM4OTQsIm5iZiI6MTYzODk3Mzg5NCwiZXhwIjoxNjM4OTc1Njk0LCJoYXNoIjoiZmNlMjg0NDhlZTk4ZDg3ZDVkMGQzYThlYmU1Zjk1Yzg5NWU5YWY1M2JhZjMwMzRmYzI1YWQyZTJiMWQ1ZDdhMGM1YzFkMmViN2IyOTM1YjZkOTFkOGQ2Nzg3NTYwMGM3NDcxNzNlN2E2MGNmOWYyMzZiNTA4MmVhMjM2NGMxMTEifQ.iQChhTvGMqi68wXRin3QgwuL-diqJftkG6PjhUNMt_O27K4_TFHweMOpqSuuEqVURTCcfXGBPCgT3ai_ym05PA
    mgpgProcessRebillUpdateResponse:
      description: Process rebill update response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/mgpgProcessRebillUpdateResponsePayload'
          examples:
            Response-without-fraud:
              value:
                success: true
                mgpgSessionId: 19bd796a7286df45896d89f289127f6b
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                invoice:
                  invoiceId: 32542e2a-373e-4812-ae7d-f15d46579a8
                  memberId: 32542e2a-373e-4812-ae7d-f15d46579a8
                  usingMemberProfile: true
                  clientIp: 198.51.100.42
                  redirectUrl: 'https://client-complete-return-url'
                  postbackUrl: 'ttps://client-complete-return-url'
                  paymentInfo:
                    currency: USD
                    paymentType: alipay
                    paymentMethod: alipay
                  paymentId: 19bd796a7286df45896d89f289127f6b
                  rawBody: '{"invoiceId":"16f8f160-57db-473a-84a9-4a3722efecc7","memberId":"fee4025e-93dc-4fd8-b9be-ca98363589cf",...'
                  charges:
                    - businessTransactionOperation: subscriptionUpgrade
                      chargeId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      siteId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      isPrimaryCharge: true
                      isTrial: false
                      chargeDescription: Charge description
                      status: success
                      transactionId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      items:
                        - businessRevenueStream: Initial Sale
                          skuId: d119f3b6-ec81-4917-b032-f806ae42223c
                          productInventoryId: Marketplace
                          displayName: Display name
                          itemDescription: Item description
                          status: null
                          quantity: 1
                          priceInfo:
                            basePrice: 10
                            expiresInDays: 2
                            taxes: 2
                            finalPrice: 12
                          rebill:
                            basePrice: 187.6
                            rebillDays: 30
                            taxes: 26.8
                            finalPrice: 214.4
                          tax:
                            taxApplicationId: e1255f78-e76c-4683-8008-00a9f2a3717d
                            productClassification: Classification
                            taxName: Tax Name
                            taxRate: 0.05
                            taxType: vat
                            displayChargedAmount: true
                          legacyMapping:
                            legacyProductId: 169445
                            bypassUi: false
                            hideUsernameField: false
                            hideUsernamePasswordFields: false
                            hideUsernamePasswordEmailFields: false
                            hidePasswordFromEmail: false
                            requireActiveParent: false
                            parentSubscriptionId: null
                            templateId: null
                            packageId: null
                            subSiteId: null
                            crossSellType: dropdown
                            crossSellDefaultValue: false
                          otherData:
                            any:
                              data: ''
                          entitlements:
                            - addonId: cbd935ef-67c7-4726-943f-a182ddf6ffbb
                nextAction:
                  type: finishProcess
                  resolution: client
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-fraud:
              value:
                sessionId: 32542e2a-373e-4812-ae7d-f15d46579a8c
                mgpgSessionId: b57d786698f8e640a50e67053e70775e
                correlationId: 5f8b92b9-0852-4f54-a7e8-ba44780f675d
                invoice:
                  invoiceId: 32542e2a-373e-4812-ae7d-f15d46579a8
                  memberId: 32542e2a-373e-4812-ae7d-f15d46579a8
                  usingMemberProfile: true
                  clientIp: 198.51.100.42
                  redirectUrl: 'https://client-complete-return-url'
                  postbackUrl: 'ttps://client-complete-return-url'
                  paymentInfo:
                    currency: USD
                    paymentType: alipay
                    paymentMethod: alipay
                  charges:
                    - businessTransactionOperation: subscriptionPurchase
                      chargeId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      siteId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      isPrimaryCharge: true
                      isTrial: true
                      chargeDescription: Charge description
                      status: Success
                      code: 100
                      transactionId: e1255f78-e76c-4683-8008-00a9f2a3717d
                      items:
                        - businessRevenueStream: Initial Sale
                          skuId: Sku Id
                          productInventoryId: Marketplace
                          displayName: Display name
                          itemDescription: Item description
                          quantity: 1
                          priceInfo:
                            basePrice: 10
                            expiresInDays: 2
                            taxes: 2
                            finalPrice: 12
                          rebill:
                            basePrice: 187.6
                            rebillDays: 30
                            taxes: 26.8
                            finalPrice: 214.4
                          tax:
                            taxApplicationId: e1255f78-e76c-4683-8008-00a9f2a3717d
                            productClassification: Classification
                            taxName: Tax Name
                            taxRate: 0.05
                            taxType: vat
                            displayChargedAmount: true
                          legacyMapping:
                            legacyProductId: 169445
                            bypassUi: false
                            hideUsernameField: false
                            hideUsernamePasswordFields: false
                            hideUsernamePasswordEmailFields: false
                            hidePasswordFromEmail: false
                            requireActiveParent: false
                            parentSubscriptionId: null
                            templateId: null
                            packageId: null
                            subSiteId: null
                            crossSellType: dropdown
                            crossSellDefaultValue: false
                          otherData:
                            any:
                              data: ''
                          entitlements:
                            any:
                              data: ''
                fraudRecommendation:
                  severity: Block
                  code: 200
                  message: Show_Captcha
                fraudRecommendationCollection:
                  - severity: Block
                    code: 200
                    message: Show_Captcha
                fraudAdvice:
                  captcha: true
                  blacklist: false
                nextAction:
                  type: finishProcess
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODE0MTQwNjAsIm5iZiI6MTU4MTQxNDA2MCwiZXhwIjoxNTgxNDE1ODYwLCJoYXNoIjoiYmNiMjVjMWJhYTc0OWZkNTUxOTBmOTZiYjUwZmE4OWU1MWFhMzhkZjQxZGYyNDk4NWQ4NTdlNmZkNTVjOWM0Zjk2ODlkNjUxZjdkZDFkMWRjYzkxMTM3OGQzODI1YTBiMGMzYzJhZTY0NmViOTYwZDJlYjVkYzA3NzczNTk5MWMifQ.m406g6CC96S81dzdtMNj2m5lJo4e_7hT_FM1yG6VvmExyO6J4Ywr1BepzMmtioa0WckmPqs35Vgs17wI4far1g
    threedLookupResponse:
      description: threed lookup response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/processPurchaseResponse'
          examples:
            frictionsless-3DS:
              value:
                success: true
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    subscriptionId: 449293bc-3981-46b4-bd37-c462b79b6744
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: finishProcess
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-3DS:
              value:
                success: true
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: authenticate3D
                  threeD:
                    authenticateUrl: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
            Response-with-3DS2:
              value:
                success: true
                purchaseId: 01ccbfe9-7009-4dcc-bc2c-d6e19262c995
                memberId: 88593ed3-bd9a-433d-a1d2-48989fad13ed
                bundleId: 5fd44440-2956-11e9-b210-d663bd873d93
                addonId: 670af402-2956-11e9-b210-d663bd873d93
                itemId: 9cd2f3c2-53f1-4ed9-b206-17c58a87f937
                subscriptionId: 5776e342-e319-4436-8005-61c415e226d7
                transactionId: 21ccbfe9-7009-4dcc-bc2c-d6e19262c884
                crossSells:
                  - success: true
                    bundleId: 4475820e-2956-11e9-b210-d663bd873d93
                    addonId: 4e1b0d7e-2956-11e9-b210-d663bd873d93
                    itemId: 108aa8bc-31c5-46ff-911a-a7925e468742
                    transactionId: a12cbfe9-7009-4dcc-bc2c-d6e19262c619
                nextAction:
                  type: authenticate3D
                  version: 2
                  threeD:
                    authenticateUrl: 'https://purchase-gateway.probiller.com/purchase/threed/authenticate/eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9...'
                    jwt: <3ds_stpup_jwt>
                    md: <rocketgate_biller_transaction_id>
                digest: eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzUxMiJ9.eyJpYXQiOjE1ODAzOTc0NzYsIm5iZiI6MTU4MDM5NzQ3NiwiZXhwIjoxNTgwMzk5Mjc2LCJoYXNoIjoiZTUzNjcxN2Q2MTM4MmVmODA1NjZhNzIwNGU2YWM5OTQ4NDhmMzMyNDA2ZTc2ODMyNGNhYzkxNzZhNzFiMjVjYjkwZTI3MTg5NGE1ODEwNWRjNDU2YmIwMDE3NjM3OWUzMzY1OTc2MzM4YzI2ZGM5YzgyNzRiOGUwOGViMjg1YTYifQ.a5WJ3U7IC9-jzh6ce2lAjHzuWcW4SqdauV5Q6P-JVPgI_S-WgUh3lgeJm3VIg7YrUlxcq_ZP17ECMPjuG2OJNg
    retrieveIntegrationEventsResponse:
      description: Retrieve integration events response
      content:
        application/json:
          schema:
            type: array
            items:
              $ref: '#/components/schemas/rocketgateIntegrationEvents'
    captchaValidated:
      description: Captcha validated response
      headers:
        X-Auth-Token:
          $ref: '#/components/headers/X-Auth-Token'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/captchaValidationResponse'
    retrieveTransactionResponse:
      description: Transaction successfully returned
      content:
        application/json:
          schema:
            type: object
            properties:
              transactionId:
                type: string
                example: 09fa1abb-197a-4c06-ad18-eb2cc9dc11b5
              currency:
                type: string
                example: CAD
              siteId:
                type: string
                example: bfc6a4cc-a338-4a70-834d-4e3d603d5793
              billerTransaction:
                type: object
                properties:
                  billerTransactionId:
                    type: string
                    example: 19999ABC9999DEF
                  billerId:
                    type: string
                    example: 4862d228-27aa-4166-a616-3b68f944fde4
                  billerName:
                    type: string
                    example: rocketgate
                  billerFields:
                    anyOf:
                      - $ref: ./models/netbilling.v1.yaml
                      - $ref: ./models/rocketgate.v1.yaml
    failedBillersResponse:
      description: The failed billers that were attempted for a given session id
      content:
        application/json:
          schema:
            type: object
            properties:
              was3DSUsed:
                description: Was 3DS used?
                type: boolean
                example: false
              failedBillers:
                description: The failed billers list
                type: array
                items:
                  $ref: '#/components/schemas/failedBiller'
